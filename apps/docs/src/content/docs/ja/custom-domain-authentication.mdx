---
title: カスタムドメイン／認証
description: 独自のドメインとロジックでプレビュープロキシをカスタマイズします。
---

Daytona では、サンドボックスのプレビューURLを処理するために、独自のカスタムプレビュープロキシをデプロイできます。これにより、カスタムドメイン、認証、エラーハンドリング、スタイリングなど、プレビュー体験を完全に制御できます。

**カスタムプレビュープロキシでできること:**

- **カスタムドメイン:** 独自ドメイン配下でプロキシをホスト（例: `preview.yourcompany.com`）
- **ユーザー認証:** プライベートプレビュー向けの独自認証ロジックを実装
- **スマートなサンドボックス管理:** 転送前に停止中のサンドボックスを自動起動
- **カスタムエラーページ:** ブランドに合わせてエラーページをカスタマイズ
- **プレビュー警告の制御:** Daytona のプレビュー警告を無効化
- **CORS 管理:** Daytona の既定の CORS 設定を上書き

---

## 仕組み {#how-it-works}

ユーザーがプレビューURLにアクセスすると、カスタムプロキシがリクエストを受け取り、次のことが可能です:

1. カスタムロジックで**ユーザーを認証する**
2. **サンドボックスのステータスを確認**し、必要に応じて起動する
3. **リクエストを実際のサンドボックスへ転送する**
4. **レスポンスを処理**し、独自のスタイルやエラーページを適用する
5. Daytonaの動作を制御するために**カスタムヘッダーを送信する**

---

## Daytona ヘッダー {#daytona-headers}

プロキシから特別なヘッダーを送信して、Daytona の動作を制御できます:

#### プレビュー警告の無効化 {#disable-preview-warning}

Daytona のプレビュー警告ページを無効化するには、次を送信します:

```
X-Daytona-Skip-Preview-Warning: true
```

#### CORS の無効化 {#disable-cors}

Daytona の既定の CORS 設定を上書きするには、次を送信します:

```
X-Daytona-Disable-CORS: true
```

#### 認証 {#authentication}

プライベートなプレビューリンクでは、次を送信してください:

```
X-Daytona-Preview-Token: {sandboxToken}
```

`sandboxToken` は [Daytona SDK または API](/docs/ja/preview-and-authentication) から取得できます。

## 例 {#examples}

カスタムプレビュープロキシの例は、当社の[GitHub](https://github.com/daytonaio/daytona-proxy-samples)でご覧いただけます:

- [TypeScriptの例](https://github.com/daytonaio/daytona-proxy-samples/tree/main/typescript)
- [Goの例](https://github.com/daytonaio/daytona-proxy-samples/tree/main/go)
