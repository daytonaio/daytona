---
title: はじめよう
---

import { TabItem, Tabs } from '@astrojs/starlight/components'

このセクションでは、[Quick Start](/docs/) ガイドを完了した後に Daytona を利用するための基本概念、典型的なワークフロー、そして次のステップを紹介します。

## Dashboard \{#dashboard\}

[Daytona Dashboard ↗](https://app.daytona.io/) は、サンドボックスの管理、API キーの確認・管理、利用状況の閲覧などを行えるビジュアルなユーザーインターフェースです。
Daytona リソースを管理するための中核的なコンソールとして機能します。

## SDKs \{#sdks\}

Daytona は、Daytona サンドボックスとプログラムから連携するための Python および TypeScript SDK を提供しています。これらは、サンドボックスのライフサイクル管理、コード実行、リソースへのアクセスなどをサポートします。

SDK から Daytona サンドボックスと連携する方法については、[Python SDK](/docs/ja/python-sdk) および [TypeScript SDK](/docs/ja/typescript-sdk) のリファレンスを参照してください。

:::tip
Daytona は、Daytona サンドボックスを作成してコードを実行するための [Python](https://github.com/daytonaio/daytona/tree/main/examples/python) および [TypeScript/JavaScript](https://github.com/daytonaio/daytona/tree/main/examples/typescript) のサンプルを提供しています。
:::

## CLI \{#cli\}

Daytona は、Daytona サンドボックスを操作するための、ライフサイクル管理やスナップショット管理などのコア機能にアクセスできるコマンドラインインターフェイスを提供します。

コマンドラインから Daytona サンドボックスを操作するには、Daytona CLI をインストールします。

<Tabs syncKey="language">
  <TabItem label="Mac/Linux">
    ```bash
    brew install daytonaio/cli/daytona
    ```
  </TabItem>

  <TabItem label="Windows">
    ```bash
    powershell -Command "irm https://get.daytona.io/windows | iex"
    ```
  </TabItem>
</Tabs>

Daytona CLI をインストールしたら、`daytona` コマンドを使用してコマンドラインから Daytona サンドボックスを操作できます。

利用可能なすべてのコマンドとフラグを確認するには、[CLI リファレンス](/docs/ja/tools/cli)を参照してください。

## API \{#api\}

Daytona は、サンドボックスのライフサイクル管理やスナップショットの操作などを行うための RESTful API を提供しています。
この API は、独自のアプリケーションから Daytona と連携するための柔軟かつ強力な手段です。

API 経由で Daytona のサンドボックスを操作する方法については、[API Reference](/docs/ja/tools/api) を参照してください。

## 複数ランタイムのサポート \{#multiple-runtime-support\}

Daytona は、サンドボックス内でコードを直接実行するために、複数のプログラミング言語ランタイムをサポートしています。

[TypeScript SDK](/docs/ja/typescript-sdk) は、**Node.js**、**ブラウザ**、**サーバーレスプラットフォーム**（Cloudflare Workers、AWS Lambda、Azure Functions など）を含む複数の **JavaScript ランタイム** で動作します。

ブラウザベースの環境や、[**Vite**](/docs/ja/getting-started#daytona-in-vite-projects)、[**Next.js**](/docs/ja/getting-started#daytona-in-nextjs-projects) のようなフレームワークで Daytona SDK を使用する場合は、Node.js のポリフィルを設定する必要があります。

### ViteプロジェクトでのDaytona \{#daytona-in-vite-projects\}

ViteベースのプロジェクトでDaytona SDKを使用する場合、互換性を確保するためにNodeのポリフィルを設定する必要があります。

`vite.config.ts` の `plugins` 配列に次の設定を追加してください。

```typescript
import { nodePolyfills } from 'vite-plugin-node-polyfills'

export default defineConfig({
  plugins: [
    // ... その他のプラグイン
    nodePolyfills({
      globals: { global: true, process: true, Buffer: true },
      overrides: {
        path: 'path-browserify-win32',
      },
    }),
  ],
  // ... 設定の残りの部分
})
```

### Next.js プロジェクトでの Daytona \{#daytona-in-nextjs-projects\}

Next.js プロジェクトで Daytona SDK を使用する場合、Webpack および Turbopack のバンドラとの互換性を確保するために、Node のポリフィルを設定する必要があります。

次の設定を `next.config.ts` ファイルに追加してください。

```typescript
import type { NextConfig } from 'next'
import NodePolyfillPlugin from 'node-polyfill-webpack-plugin'
import { env, nodeless } from 'unenv'

const { alias: turbopackAlias } = env(nodeless, {})

const nextConfig: NextConfig = {
  // Turbopack
  experimental: {
    turbo: {
      resolveAlias: {
        ...turbopackAlias,
      },
    },
  },
  // Webpack
  webpack: (config, { isServer }) => {
    if (!isServer) {
      config.plugins.push(new NodePolyfillPlugin())
    }
    return config
  },
}

export default nextConfig
```

## サンドボックス内でコードを実行する \{#run-code-inside-a-sandbox\}

Daytona のサンドボックスインスタンスを作成し、その中で安全にコードを実行できます。次のスニペットは、Daytona のサンドボックス内で計算処理を安全に実行する例です。

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    from daytona import Daytona, DaytonaConfig

    # Daytona クライアントを初期化
    daytona = Daytona(DaytonaConfig(api_key="YOUR_API_KEY"))

    # サンドボックスを作成
    sandbox = daytona.create()

    # サンドボックス内で安全にコードを実行
    response = sandbox.process.code_run('print("Sum of 3 and 4 is " + str(3 + 4))')
    if response.exit_code != 0:
        print(f"Error running code: {response.exit_code} {response.result}")
    else:
        print(response.result)

    # サンドボックスをクリーンアップ
    sandbox.delete()
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    import { Daytona } from '@daytonaio/sdk'

    async function main() {
      // Daytona クライアントを初期化
      const daytona = new Daytona({
        apiKey: 'YOUR_API_KEY',
      })

      let sandbox;
      try {
        // サンドボックスを作成
        sandbox = await daytona.create({
          language: "python",
        });
        // サンドボックス内で安全にコードを実行
        const response = await sandbox.process.codeRun(
          'print("Sum of 3 and 4 is " + str(3 + 4))'
        );
        if (response.exitCode !== 0) {
          console.error("Error running code:", response.exitCode, response.result);
        } else {
          console.log(response.result);
        }
      } catch (error) {
        console.error("Sandbox flow error:", error);
      } finally {
        // サンドボックスをクリーンアップ
        if (sandbox) {
          await sandbox.delete();
        }
      }
    }

    main().catch(console.error)
    ```
  </TabItem>
</Tabs>

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```bash
    python main.py
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    `bash npx tsx ./index.ts `
  </TabItem>

  ```text
  Sum of 3 and 4 is 7
  ```
</Tabs>

## アプリをプレビューする \{#preview-your-app\}

シンプルな Flask アプリを含むファイルを Daytona のサンドボックスにアップロードして、アプリをプレビューします。Web サーバーはポート `3000` で起動し、提供されたプレビューリンク経由でアクセスできます。

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    from daytona import Daytona, DaytonaConfig, SessionExecuteRequest

    daytona = Daytona(DaytonaConfig(api_key="YOUR_API_KEY"))

    sandbox = daytona.create()

    app_code = b'''
    from flask import Flask

    app = Flask(__name__)

    @app.route('/')
    def hello():
        return """
        <!DOCTYPE html>
        <html>
        <head>
            <title>Hello World</title>
            <link rel="icon" href="https://www.daytona.io/favicon.ico">
        </head>
        <body style="display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; background-color: #0a0a0a; font-family: Arial, sans-serif;">
            <div style="text-align: center; padding: 2rem; border-radius: 10px; background-color: white; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                <img src="https://raw.githubusercontent.com/daytonaio/daytona/main/assets/images/Daytona-logotype-black.png" alt="Daytona Logo" style="width: 180px; margin: 10px 0px;">
                <p>This web app is running in a Daytona sandbox!</p>
            </div>
        </body>
        </html>
        """

    if __name__ == '__main__':
        app.run(host='0.0.0.0', port=3000)
    '''

    # Save the Flask app to a file

    sandbox.fs.upload_file(app_code, "app.py")

    # Create a new session and execute a command

    exec_session_id = "python-app-session"
    sandbox.process.create_session(exec_session_id)

    sandbox.process.execute_session_command(exec_session_id, SessionExecuteRequest(
        command="python /app.py",
        var_async=True
    ))

    # Get the preview link for the Flask app

    preview_info = sandbox.get_preview_link(3000)
    print(f"Flask app is available at: {preview_info.url}")

    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    import { Daytona } from '@daytonaio/sdk';

    const daytona = new Daytona(({
      apiKey: "YOUR_API_KEY"
    }));

    async function main() {
      const sandbox = await daytona.create();

      const appCode = Buffer.from(`
    from flask import Flask

    app = Flask(__name__)

    @app.route('/')
    def hello():
        return """
        <!DOCTYPE html>
        <html>
        <head>
            <title>Hello World</title>
            <link rel="icon" href="https://www.daytona.io/favicon.ico">
        </head>
        <body style="display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; background-color: #0a0a0a; font-family: Arial, sans-serif;">
            <div style="text-align: center; padding: 2rem; border-radius: 10px; background-color: white; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                <img src="https://raw.githubusercontent.com/daytonaio/daytona/main/assets/images/Daytona-logotype-black.png" alt="Daytona Logo" style="width: 180px; margin: 10px 0px;">
                <p>This web app is running in a Daytona sandbox!</p>
            </div>
        </body>
        </html>
        """

    if __name__ == '__main__':
        app.run(host='0.0.0.0', port=3000)
      `);

      // Save the Flask app to a file
      await sandbox.fs.uploadFile(appCode, "app.py");

      // Create a new session and execute a command
      const execSessionId = "python-app-session";
      await sandbox.process.createSession(execSessionId);

      await sandbox.process.executeSessionCommand(execSessionId, ({
        command: `python app.py`,
        async: true,
      }));

      // Get the preview link for the Flask app
      const previewInfo = await sandbox.getPreviewLink(3000);
      console.log(`Flask app is available at: ${previewInfo.url}`);
    }

    main().catch(error => console.error("Error:", error));
    ```
  </TabItem>
</Tabs>

プレビューURLのエンドポイントにプログラムからアクセスするには、[プレビューと認証](/docs/ja/preview-and-authentication)をご覧ください。

:::tip
ポート `22222` のプレビューURLを表示するか、Dashboard -&gt; Sandboxes に移動して Terminal のアイコンをクリックすると、サンドボックスの [Web Terminal](/docs/ja/web-terminal) にアクセスできます。
:::

## LLM に接続する \{#connect-to-an-llm\}

Anthropic API を用いて LLM に接続し、Claude に 25 の階乗を求めるコードの生成を依頼し、そのコードを Daytona のサンドボックス内で実行します。

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ````python
    import os
    import re
    import requests
    from daytona import Daytona, DaytonaConfig
    from dotenv import load_dotenv

    load_dotenv()

    daytona = Daytona(DaytonaConfig())

    sandbox = daytona.create()

    def get_claude_response(api_key, prompt):
        url = "https://api.anthropic.com/v1/messages"
        headers = {
            "x-api-key": api_key,
            "anthropic-version": "2023-06-01",
            "Content-Type": "application/json"
        }
        data = {
            "model": "claude-3-7-sonnet-latest",
            "max_tokens": 256,
            "messages": [{"role": "user", "content": prompt}]
        }
        response = requests.post(url, json=data, headers=headers)
        if response.status_code == 200:
            content = response.json().get("content", [])
            return "".join([item["text"] for item in content if item["type"] == "text"])
        else:
            return f"Error {response.status_code}: {response.text}"

    prompt = "25の階乗を返すPythonコード。コードのみを出力。説明不要。前置き不要。コメント不要。単一のコードブロック内の生コードのみ。"

    result = get_claude_response(os.environ["ANTHROPIC_API_KEY"], prompt)

    code_match = re.search(r"```python\n(.*?)```", result, re.DOTALL)

    code = code_match.group(1) if code_match else result
    code = code.replace('\\', '\\\\')

    # サンドボックス内でPythonコードを実行し、出力を取得

    response = sandbox.process.code_run(code)
    print("25の階乗は", response.result)
    ````

    以下の環境変数を設定したうえで、スニペットを実行してください：

    ```bash
    ANTHROPIC_API_KEY="YOUR_ANTHROPIC_API_KEY"
    DAYTONA_API_KEY="YOUR_DAYTONA_API_KEY"
    DAYTONA_TARGET=us
    python claude-example.py
    ```

    ```bash
    > 25の階乗は15511210043330985984000000です
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ````typescript
    import { Daytona } from '@daytonaio/sdk'
    import * as dotenv from 'dotenv'
    import axios from 'axios'

    dotenv.config()

    const daytona = new Daytona()

    async function getClaudeResponse(apiKey: string, prompt: string): Promise<string> {
      const url = "https://api.anthropic.com/v1/messages"
      const headers = {
        "x-api-key": apiKey,
        "anthropic-version": "2023-06-01",
        "Content-Type": "application/json"
      }
      const data = {
        "model": "claude-3-7-sonnet-latest",
        "max_tokens": 256,
        "messages": [{"role": "user", "content": prompt}]
      }

      try {
        const response = await axios.post(url, data, { headers })
        if (response.status === 200) {
          const content = response.data.content || []
          return content
            .filter((item: any) => item.type === "text")
            .map((item: any) => item.text)
            .join("")
        } else {
          return `Error ${response.status}: ${response.statusText}`
        }
      } catch (error: any) {
        return `Error: ${error.message}`
      }
    }

    async function main() {
      const sandbox = await daytona.create()

      const prompt = "25の階乗を返すPythonコード。コードのみを出力。説明不要。前置き不要。コメント不要。単一のコードブロック内に生のコードのみ。"

      const result = await getClaudeResponse(process.env.ANTHROPIC_API_KEY || "", prompt)

      // Extract code from the response using regex
      const codeMatch = result.match(/```python\n(.*?)```/s)

      let code = codeMatch ? codeMatch[1] : result
      code = code.replace(/\\/g, '\\\\')

      // Run the extracted code in the sandbox
      const response = await sandbox.process.codeRun(code)
      console.log("The factorial of 25 is", response.result)
    }

    main().catch(console.error)

    ````

    スニペットを実行するには:

    ```bash
    ANTHROPIC_API_KEY="your-anthropic-api-key"
    DAYTONA_API_KEY="your-daytona-api-key"
    DAYTONA_TARGET=us
    npx ts-node claude-example.ts
    ```

    ```bash
    > 25の階乗は15511210043330985984000000です
    ```
  </TabItem>
</Tabs>

## 例 \{#examples\}

Daytona は、Daytona サンドボックスを作成してコードを実行するための [Python](https://github.com/daytonaio/daytona/tree/main/examples/python) および [TypeScript/JavaScript](https://github.com/daytonaio/daytona/tree/main/examples/typescript) のサンプルコードを提供しています。

:::tip
AI エージェントやアシスタントとの開発を高速化するために、Daytona の LLM 用コンテキストファイルを使用してください。[llms-full.txt](https://www.daytona.io/docs/llms-full.txt) または [llms.txt](https://www.daytona.io/docs/llms.txt) をコピーして、プロジェクトやチャットコンテキストに含めてください。
:::

さらに詳しくは、[GitHub](https://github.com/daytonaio/daytona) 上の Daytona リポジトリをご覧ください。