---
title: Git 操作
---

import { TabItem, Tabs } from '@astrojs/starlight/components'

Daytona SDKは、サンドボックス内の`git`モジュールを通じて、Gitの標準サポートを提供します。本ガイドでは、利用可能なすべてのGit操作とベストプラクティスを解説します。

## 基本操作 \{#basic-operations\}

Daytona SDK では、サンドボックス内の Git リポジトリのクローン、ステータス確認、管理を行えます。`git` モジュールを使用して Git リポジトリを操作できます。

ファイル操作と同様に、クローンの開始ディレクトリは現在のサンドボックスの作業ディレクトリです。Dockerfile に WORKDIR が指定されている場合はそれを使用し、指定されていない場合はユーザーのホームディレクトリが使用されます。たとえば `workspace/repo` は `/my-work-dir/workspace/repo` を意味します。なお、パスを `/` で始めれば、絶対パスの workDir を指定することもできます。

### リポジトリのクローン \{#cloning-repositories\}

Daytona SDK は、Python と TypeScript を用いてサンドボックスに Git リポジトリをクローンする機能を提供します。パブリック/プライベートのリポジトリや特定のブランチをクローンでき、Personal Access Token を使って認証できます。

<Tabs>
  <TabItem label="Python" icon="seti:python">
    ```python
    # Basic clone
    sandbox.git.clone(
        url="https://github.com/user/repo.git",
        path="workspace/repo"
    )

    # Clone with authentication
    sandbox.git.clone(
        url="https://github.com/user/repo.git",
        path="workspace/repo",
        username="git",
        password="personal_access_token"
    )

    # Clone specific branch
    sandbox.git.clone(
        url="https://github.com/user/repo.git",
        path="workspace/repo",
        branch="develop"
    )

    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    // Basic clone
    await sandbox.git.clone(
        "https://github.com/user/repo.git",
        "workspace/repo"
    );

    // Clone with authentication
    await sandbox.git.clone(
        "https://github.com/user/repo.git",
        "workspace/repo",
        undefined,
        undefined,
        "git",
        "personal_access_token"
    );

    // Clone specific branch
    await sandbox.git.clone(
        "https://github.com/user/repo.git",
        "workspace/repo",
        "develop"
    );
    ```
  </TabItem>
</Tabs>

### リポジトリの状態 \{#repository-status\}

Daytona SDK では、サンドボックス内の Git リポジトリの状態を確認できます。Python と TypeScript を使って、現在のブランチ、変更されたファイル、メインブランチに対する先行・遅延のコミット数を取得できます。

<Tabs>
  <TabItem label="Python" icon="seti:python">
    ```python
    # Get repository status
    status = sandbox.git.status("workspace/repo")
    print(f"Current branch: {status.current_branch}")
    print(f"Commits ahead: {status.ahead}")
    print(f"Commits behind: {status.behind}")
    for file in status.file_status:
        print(f"File: {file.name}")

    # List branches

    response = sandbox.git.branches("workspace/repo")
    for branch in response.branches:
        print(f"Branch: {branch}")

    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    // Get repository status
    const status = await sandbox.git.status("workspace/repo");
    console.log(`Current branch: ${status.currentBranch}`);
    console.log(`Commits ahead: ${status.ahead}`);
    console.log(`Commits behind: ${status.behind}`);
    status.fileStatus.forEach(file => {
        console.log(`File: ${file.name}`);
    });

    // List branches
    const response = await sandbox.git.branches("workspace/repo");
    response.branches.forEach(branch => {
        console.log(`Branch: ${branch}`);
    });
    ```
  </TabItem>
</Tabs>

## ブランチ操作 \{#branch-operations\}

Daytona SDK では、Git リポジトリのブランチを管理できます。ブランチの作成・切り替え・削除に対応しています。

### ブランチの管理 \{#managing-branches\}

Daytona SDK は、Python と TypeScript から Git リポジトリのブランチを作成・切り替え・削除できます。

<Tabs>
  <TabItem label="Python" icon="seti:python">
    ```python
    # 新しいブランチを作成
    sandbox.git.create_branch("workspace/repo", "feature/new-feature")

    # ブランチを切り替え
    sandbox.git.checkout_branch("workspace/repo", "feature/new-feature")

    # ブランチを削除
    sandbox.git.delete_branch("workspace/repo", "feature/old-feature")

    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    // 新しいブランチを作成
    await sandbox.git.createBranch("workspace/repo", "feature/new-feature");

    // ブランチを切り替え
    await sandbox.git.checkoutBranch("workspace/repo", "feature/new-feature");

    // ブランチを削除
    await sandbox.git.deleteBranch("workspace/repo", "feature/old-feature");
    ```
  </TabItem>
</Tabs>

## ステージングとコミット \{#staging-and-committing\}

Daytona SDK は、Git リポジトリの変更をステージングしてコミットできる機能を提供します。Python と TypeScript を用いて、特定のファイルまたはすべての変更をステージングし、メッセージを付けてコミットできます。

### 変更の操作 \{#working-with-changes\}

<Tabs>
  <TabItem label="Python" icon="seti:python">
    ```python
    # 指定したファイルをステージ
    sandbox.git.add("workspace/repo", ["file1.txt", "file2.txt"])

    # すべての変更をステージ
    sandbox.git.add("workspace/repo", ["."])

    # 変更をコミット
    sandbox.git.commit("workspace/repo", "feat: add new feature", "John Doe", "john@example.com")
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    // 指定したファイルをステージ
    await sandbox.git.add("workspace/repo", ["file1.txt", "file2.txt"]);

    // すべての変更をステージ
    await sandbox.git.add("workspace/repo", ["."]);

    // 変更をコミット
    await sandbox.git.commit("workspace/repo", "feat: add new feature", "John Doe", "john@example.com");
    ```
  </TabItem>
</Tabs>

## リモート操作 \{#remote-operations\}

Daytona SDK では、Git のリモートリポジトリを扱う機能を提供しています。変更のプッシュやプル、リモートの一覧表示が可能です。

### リモートの操作 \{#working-with-remotes\}

Daytona SDK は、Python と TypeScript で Git リポジトリのリモートに対して push・pull・一覧表示を行う機能を提供します。

<Tabs>
  <TabItem label="Python" icon="seti:python">
    ```python
    # 変更をプッシュ
    sandbox.git.push("workspace/repo")

    # 変更をプル
    sandbox.git.pull("workspace/repo")

    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    // 変更をプッシュ
    await sandbox.git.push("workspace/repo");

    // 変更をプル
    await sandbox.git.pull("workspace/repo");
    ```
  </TabItem>
</Tabs>