---
title: Daytona MCP サーバ
---

import { TabItem, Tabs } from '@astrojs/starlight/components'

Daytona Model Context Protocol（MCP）サーバーは、AIエージェントがDaytonaの機能にプログラムからアクセスして操作できるようにします。本ガイドでは、各種AIエージェントでMCPサーバーをセットアップし、利用する方法を解説します。

## 前提条件 \{#prerequisites\}

開始する前に、以下を用意してください:

* Daytona アカウント
* Daytona CLI のインストール
* 互換性のある AI エージェント（Claude Desktop App、Claude Code、Cursor、または Windsurf）

## インストールと設定 \{#installation-and-setup\}

### 1. Daytona CLI をインストールする \{#1-install-daytona-cli\}

<Tabs syncKey="os">
  <TabItem label="Mac/Linux">
    ```bash
    brew install daytonaio/cli/daytona
    ```
  </TabItem>

  <TabItem label="Windows">
    ```bash
    powershell -Command "irm https://get.daytona.io/windows | iex"
    ```
  </TabItem>
</Tabs>

### 2. Daytona に認証する \{#2-authenticate-with-daytona\}

```bash
daytona login
```

### 3. MCP サーバーの初期化 \{#3-initialize-mcp-server\}

任意の AI エージェントを使って、Daytona の MCP サーバーを初期化します。

```bash
daytona mcp init [claude/cursor/windsurf]
```

### 4. AIエージェントを開く \{#4-open-your-ai-agent\}

初期化後、AIエージェントのアプリケーションを開き、Daytonaの機能の利用を開始します。

## 他の AI エージェントとの統合 \{#integration-with-other-ai-agents\}

Daytona MCP を他の AI エージェントと統合するには、次の手順に従ってください。

1. MCP の構成を生成します:

```bash
daytona mcp config
```

このコマンドは、エージェントの設定にコピーできる JSON 設定を出力します。

```json
{
  "mcpServers": {
    "daytona-mcp": {
      "command": "daytona",
      "args": ["mcp", "start"],
      "env": {
        "HOME": "${HOME}",
        "PATH": "${HOME}:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/homebrew/bin"
      },
      "logFile": "${HOME}/Library/Logs/daytona/daytona-mcp-server.log"
    }
  }
}
```

:::note
Windows をお使いの場合は、`env` フィールドに次を追加してください:

```json
"APPDATA": "${APPDATA}"
```

:::

2. 設定を反映するために、AIエージェントを開くか、再起動します。

## 使用可能なツール \{#available-tools\}

### サンドボックス管理 \{#sandbox-management\}

* **サンドボックスの作成**

  * 新しい Daytona サンドボックスを作成します
  * パラメータ:
    * `name`: サンドボックス名（任意）
    * `target`: 対象リージョン（任意）
    * `snapshot`: サンドボックス用のスナップショット（任意）
    * `auto_stop_interval`（既定値: &quot;15&quot;）: 自動停止までの分数（0 は無効）
    * `auto_archive_interval`（既定値: &quot;10080&quot;）: 自動アーカイブまでの分数（0 は最大間隔を使用）
    * `auto_delete_interval`（既定値: &quot;-1&quot;）: 自動削除までの分数（負の値は無効、0 は停止時に即時削除）
    * `volumes`: サンドボックスにアタッチするボリューム（任意）
    * `network_block_all`: サンドボックスのネットワークアクセスをすべて遮断するか（任意）
    * `network_allow_list`: サンドボックスで許可する CIDR ネットワークアドレスのカンマ区切りリスト（任意）
    * `public`: サンドボックスの HTTP プレビューを公開アクセス可能にするか（任意）
    * `cpu`: サンドボックスに割り当てる CPU コア数（任意）
    * `gpu`: サンドボックスに割り当てる GPU ユニット数（任意）
    * `memory`: サンドボックスに割り当てるメモリ（GB）（任意）
    * `disk`: サンドボックスに割り当てるディスク容量（GB）（任意）
    * `user`: サンドボックスに関連付けるユーザー（任意）
    * `build_info`: サンドボックスのビルド情報（任意）
    * `env`: サンドボックスの環境変数（任意）
    * `labels`: サンドボックスのラベル（任意）

* **サンドボックスの破棄**
  * 既存の Daytona サンドボックスを削除します
  * パラメータ:
    * `id`: 破棄するサンドボックスの ID

### ファイル操作 \{#file-operations\}

* **ファイルのダウンロード**

  * Daytona のサンドボックスからファイルをダウンロードします
  * コンテンツをテキストまたは base64 エンコード画像として返します
  * パラメータ:
    * `id`: ダウンロード元のサンドボックス ID
    * `file_path`: ファイルパス

* **ファイルのアップロード**

  * Daytona のサンドボックスにファイルをアップロードします
  * テキストまたは base64 エンコードのバイナリコンテンツに対応
  * 必要な親ディレクトリを自動作成
  * セッション中は適切な権限でファイルが保持されます
  * 上書きの可否を制御でき、元のファイル形式を保持します
  * パラメータ:
    * `id`: アップロード先のサンドボックス ID
    * `file_path`: アップロードするファイルのパス
    * `content`: アップロードするファイルの内容
    * `encoding`: アップロードするファイルのエンコーディング
    * `overwrite`: 既存の場合に上書きするか

* **フォルダーの作成**

  * サンドボックス内に新規ディレクトリを作成します
  * パラメータ:
    * `id`: フォルダーを作成するサンドボックス ID
    * `folder_path`: 作成するパス
    * `mode`: ディレクトリのパーミッション（デフォルト: 0755）

* **ファイル情報の取得**

  * ファイル情報を取得します
  * パラメータ:
    * `id`: 情報を取得するサンドボックス ID
    * `file_path`: ファイルパス

* **ファイル一覧**

  * ディレクトリの内容を一覧表示します
  * パラメータ:
    * `id`: 一覧を取得するサンドボックス ID
    * `path`: ディレクトリパス（デフォルト: カレントディレクトリ）

* **ファイルの移動**

  * ファイルを移動またはリネームします
  * パラメータ:
    * `id`: ファイルを移動するサンドボックス ID
    * `source_path`: 移動元パス
    * `dest_path`: 移動先パス

* **ファイルの削除**
  * ファイルまたはディレクトリを削除します
  * パラメータ:
    * `id`: 削除を行うサンドボックス ID
    * `file_path`: 削除するパス

### プレビュー \{#preview\}

* **プレビューリンク**
  * Webアプリケーション向けのアクセス可能なプレビューURLを生成します
  * ローカルポートを外部公開するための安全なトンネルを作成します
  * 指定したポートでのサーバー稼働状況を検証します
  * トラブルシューティング用の診断情報を提供します
  * サービスの整理に役立つカスタムの説明とメタデータをサポートします
  * パラメータ:
    * `id`: プレビューリンクを発行するサンドボックスのID
    * `port`: 公開するポート
    * `description`: サービスの説明
    * `check_server`: ポートでサーバーが稼働中かを確認

### Git 操作 \{#git-operations\}

* **Git Clone**
  * Git リポジトリをクローンします
  * パラメータ:
    * `id`: リポジトリをクローンするサンドボックスのID
    * `url`: リポジトリのURL
    * `path`: 対象ディレクトリ（既定ではカレント）
    * `branch`: クローンするブランチ
    * `commit_id`: クローンするコミットID
    * `username`: Gitのユーザー名
    * `password`: Gitのパスワード

### コマンド実行 \{#command-execution\}

* **コマンドの実行**
  * Daytona 環境でシェルコマンドを実行します
  * stdout、stderr、および終了コードを返します
  * コマンドはサンドボックスのユーザー権限で実行されます
  * パラメータ:
    * `id`: コマンドを実行するサンドボックスのID
    * `command`: 実行するコマンド

## トラブルシューティング \{#troubleshooting\}

よくある問題と解決策：

* **認証に関する問題**

  * 資格情報を更新するには `daytona login` を実行します

* **接続エラー**

  * MCP サーバーの設定を確認します
  * サーバーのステータスを確認します

* **サンドボックスのエラー**
  * サンドボックスのステータスを確認するには `daytona sandbox list` を使用します

## サポート \{#support\}

追加のサポートが必要な場合は、次をご参照ください。

* [daytona.io](https://daytona.io) をご覧ください
* support@daytona.io までお問い合わせください