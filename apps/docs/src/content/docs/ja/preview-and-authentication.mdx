---
title: プレビューと認証
---

import { Tabs, TabItem } from '@astrojs/starlight/components'

ポート範囲 `3000-9999` で HTTP トラフィックを待ち受けるプロセスは、プレビューリンクで確認できます。

プレビューリンクの構成は、ポートとサンドボックス ID の組み合わせです。例:
`https://3000-sandbox-123456.proxy.daytona.works`

:::tip
ブラウザでプレビューリンクを開くと、初回は警告ページが表示されます。
この警告は、プレビュー URL にアクセスする際の潜在的なリスクを知らせるセキュリティ対策です。

この警告を回避するには、[Tier 3](/docs/ja/limits) にアップグレードするか、独自の [カスタムプレビュープロキシ](/docs/ja/custom-domain-authentication) をデプロイしてください。
:::

サンドボックスの `public` プロパティが `true` に設定されている場合、これらのリンクは一般公開されます。そうでない場合は、プレビューリンクはサンドボックスの組織のユーザーのみがアクセスできます。

プログラムからのアクセス（例: curl）の場合は、プレビュー URL へアクセスする際に認可トークンを渡すため、X-Daytona-Preview-Token ヘッダーを使用します:

```bash
curl -H "x-daytona-preview-token: vg5c0ylmcimr8b_v1ne0u6mdnvit6gc0" \
https://3000-sandbox-123456.proxy.daytona.works
```

別の方法として、追加ヘッダーをサポートしないランタイム（例: ブラウザランタイム）では、DAYTONA\_SANDBOX\_AUTH\_KEY クエリパラメータに認可トークンを指定します:

```bash
curl "https://3000-sandbox-123456.proxy.daytona.works?DAYTONA_SANDBOX_AUTH_KEY=vg5c0ylmcimr8b_v1ne0u6mdnvit6gc0"
```

特定のポートのプレビューリンクと認可トークンを取得するには、SDK のメソッドを使用します:

<Tabs>
  <TabItem label="Python" icon="seti:python">
    ```python

    preview_info = sandbox.get_preview_link(3000)

    print(f"Preview link url: {preview_info.url}")
    print(f"Preview link token: {preview_info.token}")

    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript

    const previewInfo = await sandbox.getPreviewUrl(3000);

    console.log(`Preview link url: ${previewInfo.url}`);
    console.log(`Preview link token: ${previewInfo.token}`);

    ```
  </TabItem>
</Tabs>

:::tip
Daytona の URL ではなく独自ドメインでプレビューを提供したい場合は、[カスタムドメイン/認証](/docs/ja/custom-domain-authentication) セクションをご確認ください。
:::
