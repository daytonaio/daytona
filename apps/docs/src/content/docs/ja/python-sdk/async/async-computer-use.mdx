---
title: "AsyncComputerUse"
hideTitleOnPage: true
---

## AsyncComputerUse \{#asynccomputeruse\}

```python
class AsyncComputerUse()
```

デスクトップ環境と対話するためのコンピューター使用機能。

サンドボックス内でのデスクトップ操作を自動化できるよう、
マウス、キーボード、スクリーンショット、ディスプレイの操作にアクセスを提供します。

**属性**:

* `mouse` *AsyncMouse* - マウス操作用インターフェース。
* `keyboard` *AsyncKeyboard* - キーボード操作用インターフェース。
* `screenshot` *AsyncScreenshot* - スクリーンショット操作用インターフェース。
* `display` *AsyncDisplay* - ディスプレイ操作用インターフェース。

#### AsyncComputerUse.start \{#asynccomputerusestart\}

```python
@intercept_errors(message_prefix="コンピューター使用の開始に失敗しました: ")
async def start() -> ComputerUseStartResponse
```

すべてのコンピューター使用プロセス（Xvfb、xfce4、x11vnc、novnc）を起動します。

**戻り値**:

* `ComputerUseStartResponse` - コンピューター使用の起動応答。

**例**:

```python
result = await sandbox.computer_use.start()
print("コンピューター使用プロセスが開始されました:", result.message)
```

#### AsyncComputerUse.stop \{#asynccomputerusestop\}

```python
@intercept_errors(message_prefix="コンピューター使用の停止に失敗しました: ")
async def stop() -> ComputerUseStopResponse
```

すべてのコンピューター使用プロセスを停止します。

**戻り値**:

* `ComputerUseStopResponse` - コンピューター使用の停止応答。

**例**:

```python
result = await sandbox.computer_use.stop()
print("コンピューター使用プロセスが停止しました:", result.message)
```

#### AsyncComputerUse.get&#95;status \{#asynccomputeruseget&#95;status\}

```python
@intercept_errors(message_prefix="コンピューター使用ステータスの取得に失敗しました: ")
async def get_status() -> ComputerUseStatusResponse
```

すべてのコンピューター使用プロセスのステータスを取得します。

**戻り値**:

* `ComputerUseStatusResponse` - すべての VNC デスクトッププロセスに関するステータス情報。

**例**:

```python
response = await sandbox.computer_use.get_status()
print("コンピューター使用ステータス:", response.status)
```

#### AsyncComputerUse.get&#95;process&#95;status \{#asynccomputeruseget&#95;process&#95;status\}

```python
@intercept_errors(message_prefix="プロセス状態の取得に失敗しました: ")
async def get_process_status(process_name: str) -> ProcessStatusResponse
```

特定の VNC プロセスのステータスを取得します。

**引数**:

* `process_name` *str* - 確認対象のプロセス名。

**戻り値**:

* `ProcessStatusResponse` - 当該プロセスのステータス情報。

**例**:

```python
xvfb_status = await sandbox.computer_use.get_process_status("xvfb")
no_vnc_status = await sandbox.computer_use.get_process_status("novnc")
```

#### AsyncComputerUse.restart&#95;process \{#asynccomputeruserestart&#95;process\}

```python
@intercept_errors(message_prefix="プロセスの再起動に失敗しました: ")
async def restart_process(process_name: str) -> ProcessRestartResponse
```

特定の VNC プロセスを再起動します。

**引数**:

* `process_name` *str* - 再起動するプロセスの名前。

**戻り値**:

* `ProcessRestartResponse` - プロセス再起動のレスポンス。

**例**:

```python
result = await sandbox.computer_use.restart_process("xfce4")
print("XFCE4プロセスを再起動しました:", result.message)
```

#### AsyncComputerUse.get&#95;process&#95;logs \{#asynccomputeruseget&#95;process&#95;logs\}

```python
@intercept_errors(message_prefix="プロセスログの取得に失敗しました: ")
async def get_process_logs(process_name: str) -> ProcessLogsResponse
```

特定の VNC プロセスのログを取得します。

**引数**:

* `process_name` *str* - ログを取得するプロセスの名前。

**戻り値**:

* `ProcessLogsResponse` - プロセスのログ。

**例**:

```python
logs = await sandbox.computer_use.get_process_logs("novnc")
print("NoVNC ログ:", logs)
```

#### AsyncComputerUse.get&#95;process&#95;errors \{#asynccomputeruseget&#95;process&#95;errors\}

```python
@intercept_errors(message_prefix="プロセスエラーの取得に失敗しました: ")
async def get_process_errors(process_name: str) -> ProcessErrorsResponse
```

特定の VNC プロセスのエラーログを取得します。

**引数**:

* `process_name` *str* - エラーログを取得するプロセス名。

**戻り値**:

* `ProcessErrorsResponse` - プロセスのエラーログ。

**例**:

```python
errors = await sandbox.computer_use.get_process_errors("x11vnc")
print("X11VNCエラー:", errors)
```

## AsyncMouse（非同期マウス） \{#asyncmouse\}

```python
class AsyncMouse()
```

コンピューター使用機能におけるマウス操作

#### AsyncMouse.get&#95;position \{#asyncmouseget&#95;position\}

```python
@intercept_errors(message_prefix="Failed to get mouse position: ")
async def get_position() -> MousePositionResponse
```

現在のマウスカーソルの位置を取得します。

**戻り値**:

* `MousePositionResponse` - 現在のマウス位置（x および y 座標）。

**例**:

```python
position = await sandbox.computer_use.mouse.get_position()
print(f"マウスの位置: {position.x}, {position.y}")
```

#### AsyncMouse.move \{#asyncmousemove\}

```python
@intercept_errors(message_prefix="マウスの移動に失敗しました: ")
async def move(x: int, y: int) -> MousePositionResponse
```

マウスカーソルを指定した座標へ移動します。

**引数**:

* `x` *int* - 移動先のx座標。
* `y` *int* - 移動先のy座標。

**戻り値**:

* `MousePositionResponse` - 移動後の位置。

**例**:

```python
result = await sandbox.computer_use.mouse.move(100, 200)
print(f"マウスを移動しました: {result.x}, {result.y}")
```

#### AsyncMouse.click \{#asyncmouseclick\}

```python
@intercept_errors(message_prefix="マウスクリックに失敗しました: ")
async def click(x: int,
                y: int,
                button: str = "left",
                double: bool = False) -> MouseClickResponse
```

指定した座標でマウスクリックを実行します。

**引数**:

* `x` *int* - クリックするX座標。
* `y` *int* - クリックするY座標。
* `button` *str* - クリックするマウスボタン（&#39;left&#39;、&#39;right&#39;、&#39;middle&#39;）。
* `double` *bool* - ダブルクリックを行うかどうか。

**戻り値**:

* `MouseClickResponse` - クリック操作の結果。

**例**:

```python
# 左シングルクリック
result = await sandbox.computer_use.mouse.click(100, 200)

# ダブルクリック
double_click = await sandbox.computer_use.mouse.click(100, 200, "left", True)

# 右クリック
right_click = await sandbox.computer_use.mouse.click(100, 200, "right")
```

#### AsyncMouse.drag \{#asyncmousedrag\}

```python
@intercept_errors(message_prefix="マウスのドラッグに失敗しました: ")
async def drag(start_x: int,
               start_y: int,
               end_x: int,
               end_y: int,
               button: str = "left") -> MouseDragResponse
```

開始座標から終了座標までマウスをドラッグします。

**引数**:

* `start_x` *int* - 開始 x 座標。
* `start_y` *int* - 開始 y 座標。
* `end_x` *int* - 終了 x 座標。
* `end_y` *int* - 終了 y 座標。
* `button` *str* - ドラッグに使用するマウスボタン。

**戻り値**:

* `MouseDragResponse` - ドラッグ操作の結果。

**例**:

```python
result = await sandbox.computer_use.mouse.drag(50, 50, 150, 150)
print(f"({result.from_x},{result.from_y})から({result.to_x},{result.to_y})へドラッグしました")
```

#### AsyncMouse.scroll \{#asyncmousescroll\}

```python
@intercept_errors(message_prefix="マウススクロールに失敗しました: ")
async def scroll(x: int, y: int, direction: str, amount: int = 1) -> bool
```

指定した座標でマウスホイールをスクロールします。

**引数**:

* `x` *int* - スクロールするX座標。
* `y` *int* - スクロールするY座標。
* `direction` *str* - スクロール方向（&#39;up&#39; または &#39;down&#39;）。
* `amount` *int* - スクロール量。

**戻り値**:

* `bool` - スクロール操作が成功したかどうか。

**例**:

```python
# 上にスクロール
scroll_up = await sandbox.computer_use.mouse.scroll(100, 200, "up", 3)

# 下にスクロール
scroll_down = await sandbox.computer_use.mouse.scroll(100, 200, "down", 5)
```

## AsyncKeyboard \{#asynckeyboard\}

```python
class AsyncKeyboard()
```

コンピューター使用機能におけるキーボード操作

#### AsyncKeyboard.type \{#asynckeyboardtype\}

```python
@intercept_errors(message_prefix="テキストの入力に失敗しました: ")
async def type(text: str, delay: Optional[int] = None) -> None
```

指定したテキストを入力します。

**引数**:

* `text` *str* - 入力するテキスト。
* `delay` *int* - 文字ごとの遅延（ミリ秒）。

**例外**:

* `DaytonaError` - 入力処理に失敗した場合。

**例**:

```python
try:
    await sandbox.computer_use.keyboard.type("Hello, World!")
    print(f"操作が成功しました")
except Exception as e:
    print(f"操作が失敗しました: {e}")

# 文字間に遅延を設定
try:
    await sandbox.computer_use.keyboard.type("Slow typing", 100)
    print(f"操作が成功しました")
except Exception as e:
    print(f"操作が失敗しました: {e}")
```

#### AsyncKeyboard.press \{#asynckeyboardpress\}

```python
@intercept_errors(message_prefix="キーの押下に失敗しました: ")
async def press(key: str, modifiers: Optional[List[str]] = None) -> None
```

オプションの修飾キーとともにキーを押します。

**引数**:

* `key` *str* - 押すキー（例: &#39;Enter&#39;, &#39;Escape&#39;, &#39;Tab&#39;, &#39;a&#39;, &#39;A&#39;）。
* `modifiers` *List[str]* - 修飾キー（&#39;ctrl&#39;, &#39;alt&#39;, &#39;meta&#39;, &#39;shift&#39;）。

**例外**:

* `DaytonaError` - 押下操作に失敗した場合。

**例**:

```python
# Enterキーを押す
try:
    await sandbox.computer_use.keyboard.press("Return")
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")

# Ctrl+Cを押す
try:
    await sandbox.computer_use.keyboard.press("c", ["ctrl"])
    print(f"操作成功")

# Ctrl+Shift+Tを押す
try:
    await sandbox.computer_use.keyboard.press("t", ["ctrl", "shift"])
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")
```

#### AsyncKeyboard.hotkey \{#asynckeyboardhotkey\}

```python
@intercept_errors(message_prefix="ホットキーの押下に失敗しました: ")
async def hotkey(keys: str) -> None
```

ホットキーの組み合わせを押下します。

**引数**:

* `keys` *str* - ホットキーの組み合わせ（例: &#39;ctrl+c&#39;, &#39;alt+tab&#39;, &#39;cmd+shift+t&#39;）。

**例外**:

* `DaytonaError` - ホットキー操作に失敗した場合。

**例**:

```python
# コピー
try:
    await sandbox.computer_use.keyboard.hotkey("ctrl+c")
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")

# ペースト
try:
    await sandbox.computer_use.keyboard.hotkey("ctrl+v")
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")

# Alt+Tab
try:
    await sandbox.computer_use.keyboard.hotkey("alt+tab")
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")
```

## AsyncScreenshot \{#asyncscreenshot\}

```python
class AsyncScreenshot()
```

コンピューター使用機能におけるスクリーンショットの操作

#### AsyncScreenshot.take&#95;full&#95;screen \{#asyncscreenshottake&#95;full&#95;screen\}

```python
@intercept_errors(message_prefix="スクリーンショットの撮影に失敗しました: ")
async def take_full_screen(show_cursor: bool = False) -> ScreenshotResponse
```

画面全体のスクリーンショットを撮影します。

**引数**:

* `show_cursor` *bool* - スクリーンショットにカーソルを表示するかどうか。

**戻り値**:

* `ScreenshotResponse` - 画像を base64 エンコードしたスクリーンショットデータ。

**例**:

```python
screenshot = await sandbox.computer_use.screenshot.take_full_screen()
print(f"スクリーンショットサイズ: {screenshot.width}x{screenshot.height}")

# カーソルを表示する場合
with_cursor = await sandbox.computer_use.screenshot.take_full_screen(True)
```

#### AsyncScreenshot.take&#95;region \{#asyncscreenshottake&#95;region\}

```python
@intercept_errors(message_prefix="Failed to take region screenshot: ")
async def take_region(region: ScreenshotRegion,
                      show_cursor: bool = False) -> ScreenshotResponse
```

特定の領域のスクリーンショットを取得します。

**引数**:

* `region` *ScreenshotRegion* - キャプチャする領域。
* `show_cursor` *bool* - スクリーンショットにカーソルを表示するかどうか。

**戻り値**:

* `ScreenshotResponse` - 画像を base64 エンコードしたスクリーンショットデータ。

**例**:

```python
region = ScreenshotRegion(x=100, y=100, width=300, height=200)
screenshot = await sandbox.computer_use.screenshot.take_region(region)
print(f"キャプチャした領域: {screenshot.region.width}x{screenshot.region.height}")
```

#### AsyncScreenshot.take&#95;compressed \{#asyncscreenshottake&#95;compressed\}

```python
@intercept_errors(message_prefix="圧縮スクリーンショットの取得に失敗しました: ")
async def take_compressed(
        options: Optional[ScreenshotOptions] = None) -> ScreenshotResponse
```

画面全体の圧縮済みスクリーンショットを取得します。

**引数**:

* `options` *ScreenshotOptions* - 圧縮および表示に関するオプション。

**戻り値**:

* `ScreenshotResponse` - 圧縮済みスクリーンショットデータ。

**例**:

```python
# デフォルト圧縮
screenshot = await sandbox.computer_use.screenshot.take_compressed()

# 高品質JPEG
jpeg = await sandbox.computer_use.screenshot.take_compressed(
    ScreenshotOptions(format="jpeg", quality=95, show_cursor=True)
)

# 縮小されたPNG
scaled = await sandbox.computer_use.screenshot.take_compressed(
    ScreenshotOptions(format="png", scale=0.5)
)
```

#### AsyncScreenshot.take&#95;compressed&#95;region \{#asyncscreenshottake&#95;compressed&#95;region\}

```python
@intercept_errors(
    message_prefix="圧縮領域のスクリーンショット取得に失敗しました: ")
async def take_compressed_region(
        region: ScreenshotRegion,
        options: Optional[ScreenshotOptions] = None) -> ScreenshotResponse
```

特定の領域のスクリーンショットを圧縮して取得します。

**引数**:

* `region` *ScreenshotRegion* - キャプチャする領域。
* `options` *ScreenshotOptions* - 圧縮および表示に関するオプション。

**戻り値**:

* `ScreenshotResponse` - 圧縮されたスクリーンショットデータ。

**例**:

```python
region = ScreenshotRegion(x=0, y=0, width=800, height=600)
screenshot = await sandbox.computer_use.screenshot.take_compressed_region(
    region,
    ScreenshotOptions(format="webp", quality=80, show_cursor=True)
)
print(f"圧縮後のサイズ: {screenshot.size_bytes} バイト")
```

## AsyncDisplay \{#asyncdisplay\}

```python
class AsyncDisplay()
```

コンピューター使用機能のディスプレイ操作

#### AsyncDisplay.get&#95;info \{#asyncdisplayget&#95;info\}

```python
@intercept_errors(message_prefix="ディスプレイ情報の取得に失敗しました: ")
async def get_info() -> DisplayInfoResponse
```

ディスプレイに関する情報を取得します。

**戻り値**:

* `DisplayInfoResponse` - 既定のディスプレイ（プライマリ）および利用可能なすべてのディスプレイを含むディスプレイ情報。

**例**:

```python
info = await sandbox.computer_use.display.get_info()
print(f"プライマリディスプレイ: {info.primary_display.width}x{info.primary_display.height}")
print(f"総ディスプレイ数: {info.total_displays}")
for i, display in enumerate(info.displays):
    print(f"ディスプレイ {i}: {display.width}x{display.height} at {display.x},{display.y}")
```

#### AsyncDisplay.get&#95;windows \{#asyncdisplayget&#95;windows\}

```python
@intercept_errors(message_prefix="ウィンドウの取得に失敗しました: ")
async def get_windows() -> WindowsResponse
```

開いているウィンドウの一覧を取得します。

**戻り値**:

* `WindowsResponse` - ID とタイトルを含む開いているウィンドウの一覧。

**例**:

```python
windows = await sandbox.computer_use.display.get_windows()
print(f"{windows.count}個の開いているウィンドウが見つかりました:")
for window in windows.windows:
    print(f"- {window.title} (ID: {window.id})")
```

## ScreenshotRegion（スクリーンショット・リージョン） \{#screenshotregion\}

```python
class ScreenshotRegion()
```

スクリーンショット操作用の領域座標。

**属性**:

* `x` *int* - 領域の X 座標。
* `y` *int* - 領域の Y 座標。
* `width` *int* - 領域の幅。
* `height` *int* - 領域の高さ。

## ScreenshotOptions \{#screenshotoptions\}

```python
class ScreenshotOptions()
```

スクリーンショットの圧縮および表示に関するオプション。

**Attributes**:

* `show_cursor` *bool* - スクリーンショットにカーソルを表示するかどうか。
* `fmt` *str* - 画像形式（例: &#39;png&#39;, &#39;jpeg&#39;, &#39;webp&#39;）。
* `quality` *int* - 圧縮品質（0〜100）。
* `scale` *float* - スクリーンショットのスケール係数。
