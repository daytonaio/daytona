---
title: "AsyncComputerUse"
hideTitleOnPage: true
---

## AsyncComputerUse \{#asynccomputeruse\}

```python
class AsyncComputerUse()
```

デスクトップ環境と対話するためのコンピューター使用機能。

サンドボックス内でのデスクトップ操作を自動化できるよう、
マウス、キーボード、スクリーンショット、ディスプレイ、録画の操作にアクセスを提供します。

**属性**:

* `mouse` *AsyncMouse* - マウス操作用インターフェース。
* `keyboard` *AsyncKeyboard* - キーボード操作用インターフェース。
* `screenshot` *AsyncScreenshot* - スクリーンショット操作用インターフェース。
* `display` *AsyncDisplay* - ディスプレイ操作用インターフェース。
* `recording` *AsyncRecordingService* - 画面録画操作用インターフェース。

#### AsyncComputerUse.start \{#asynccomputerusestart\}

```python
@intercept_errors(message_prefix="コンピューター使用の開始に失敗しました: ")
@with_instrumentation()
async def start() -> ComputerUseStartResponse
```

すべてのコンピューター使用プロセス（Xvfb、xfce4、x11vnc、novnc）を起動します。

**戻り値**:

* `ComputerUseStartResponse` - コンピューター使用の起動応答。

**例**:

```python
result = await sandbox.computer_use.start()
print("コンピューター使用プロセスが開始されました:", result.message)
```

#### AsyncComputerUse.stop \{#asynccomputerusestop\}

```python
@intercept_errors(message_prefix="コンピューター使用の停止に失敗しました: ")
@with_instrumentation()
async def stop() -> ComputerUseStopResponse
```

すべてのコンピューター使用プロセスを停止します。

**戻り値**:

* `ComputerUseStopResponse` - コンピューター使用の停止応答。

**例**:

```python
result = await sandbox.computer_use.stop()
print("コンピューター使用プロセスが停止しました:", result.message)
```

#### AsyncComputerUse.get_status \{#asynccomputeruseget_status\}

```python
@intercept_errors(message_prefix="コンピューター使用ステータスの取得に失敗しました: ")
@with_instrumentation()
async def get_status() -> ComputerUseStatusResponse
```

すべてのコンピューター使用プロセスのステータスを取得します。

**戻り値**:

* `ComputerUseStatusResponse` - すべての VNC デスクトッププロセスに関するステータス情報。

**例**:

```python
response = await sandbox.computer_use.get_status()
print("コンピューター使用ステータス:", response.status)
```

#### AsyncComputerUse.get_process_status \{#asynccomputeruseget_process_status\}

```python
@intercept_errors(message_prefix="プロセス状態の取得に失敗しました: ")
@with_instrumentation()
async def get_process_status(process_name: str) -> ProcessStatusResponse
```

特定の VNC プロセスのステータスを取得します。

**引数**:

* `process_name` *str* - 確認対象のプロセス名。

**戻り値**:

* `ProcessStatusResponse` - 当該プロセスのステータス情報。

**例**:

```python
xvfb_status = await sandbox.computer_use.get_process_status("xvfb")
no_vnc_status = await sandbox.computer_use.get_process_status("novnc")
```

#### AsyncComputerUse.restart_process \{#asynccomputeruserestart_process\}

```python
@intercept_errors(message_prefix="プロセスの再起動に失敗しました: ")
@with_instrumentation()
async def restart_process(process_name: str) -> ProcessRestartResponse
```

特定の VNC プロセスを再起動します。

**引数**:

* `process_name` *str* - 再起動するプロセスの名前。

**戻り値**:

* `ProcessRestartResponse` - プロセス再起動のレスポンス。

**例**:

```python
result = await sandbox.computer_use.restart_process("xfce4")
print("XFCE4プロセスを再起動しました:", result.message)
```

#### AsyncComputerUse.get_process_logs \{#asynccomputeruseget_process_logs\}

```python
@intercept_errors(message_prefix="プロセスログの取得に失敗しました: ")
@with_instrumentation()
async def get_process_logs(process_name: str) -> ProcessLogsResponse
```

特定の VNC プロセスのログを取得します。

**引数**:

* `process_name` *str* - ログを取得するプロセスの名前。

**戻り値**:

* `ProcessLogsResponse` - プロセスのログ。

**例**:

```python
logs = await sandbox.computer_use.get_process_logs("novnc")
print("NoVNC ログ:", logs)
```

#### AsyncComputerUse.get_process_errors \{#asynccomputeruseget_process_errors\}

```python
@intercept_errors(message_prefix="プロセスエラーの取得に失敗しました: ")
@with_instrumentation()
async def get_process_errors(process_name: str) -> ProcessErrorsResponse
```

特定の VNC プロセスのエラーログを取得します。

**引数**:

* `process_name` *str* - エラーログを取得するプロセス名。

**戻り値**:

* `ProcessErrorsResponse` - プロセスのエラーログ。

**例**:

```python
errors = await sandbox.computer_use.get_process_errors("x11vnc")
print("X11VNCエラー:", errors)
```

## AsyncMouse（非同期マウス） \{#asyncmouse\}

```python
class AsyncMouse()
```

コンピューター使用機能におけるマウス操作

#### AsyncMouse.get_position \{#asyncmouseget_position\}

```python
@intercept_errors(message_prefix="Failed to get mouse position: ")
@with_instrumentation()
async def get_position() -> MousePositionResponse
```

現在のマウスカーソルの位置を取得します。

**戻り値**:

* `MousePositionResponse` - 現在のマウス位置（x および y 座標）。

**例**:

```python
position = await sandbox.computer_use.mouse.get_position()
print(f"マウスの位置: {position.x}, {position.y}")
```

#### AsyncMouse.move \{#asyncmousemove\}

```python
@intercept_errors(message_prefix="マウスの移動に失敗しました: ")
@with_instrumentation()
async def move(x: int, y: int) -> MousePositionResponse
```

マウスカーソルを指定した座標へ移動します。

**引数**:

* `x` *int* - 移動先のx座標。
* `y` *int* - 移動先のy座標。

**戻り値**:

* `MousePositionResponse` - 移動後の位置。

**例**:

```python
result = await sandbox.computer_use.mouse.move(100, 200)
print(f"マウスを移動しました: {result.x}, {result.y}")
```

#### AsyncMouse.click \{#asyncmouseclick\}

```python
@intercept_errors(message_prefix="マウスクリックに失敗しました: ")
@with_instrumentation()
async def click(x: int,
                y: int,
                button: str = "left",
                double: bool = False) -> MouseClickResponse
```

指定した座標でマウスクリックを実行します。

**引数**:

* `x` *int* - クリックするX座標。
* `y` *int* - クリックするY座標。
* `button` *str* - クリックするマウスボタン（&#39;left&#39;、&#39;right&#39;、&#39;middle&#39;）。
* `double` *bool* - ダブルクリックを行うかどうか。

**戻り値**:

* `MouseClickResponse` - クリック操作の結果。

**例**:

```python
# 左シングルクリック
result = await sandbox.computer_use.mouse.click(100, 200)

# Double click
double_click = await sandbox.computer_use.mouse.click(100, 200, "left", True)

# Right click
right_click = await sandbox.computer_use.mouse.click(100, 200, "right")
```

#### AsyncMouse.drag \{#asyncmousedrag\}

```python
@intercept_errors(message_prefix="マウスのドラッグに失敗しました: ")
@with_instrumentation()
async def drag(start_x: int,
               start_y: int,
               end_x: int,
               end_y: int,
               button: str = "left") -> MouseDragResponse
```

開始座標から終了座標までマウスをドラッグします。

**引数**:

* `start_x` *int* - 開始 x 座標。
* `start_y` *int* - 開始 y 座標。
* `end_x` *int* - 終了 x 座標。
* `end_y` *int* - 終了 y 座標。
* `button` *str* - ドラッグに使用するマウスボタン。

**戻り値**:

* `MouseDragResponse` - ドラッグ操作の結果。

**例**:

```python
result = await sandbox.computer_use.mouse.drag(50, 50, 150, 150)
print(f"({result.from_x},{result.from_y})から({result.to_x},{result.to_y})へドラッグしました")
```

#### AsyncMouse.scroll \{#asyncmousescroll\}

```python
@intercept_errors(message_prefix="マウススクロールに失敗しました: ")
@with_instrumentation()
async def scroll(x: int, y: int, direction: str, amount: int = 1) -> bool
```

指定した座標でマウスホイールをスクロールします。

**引数**:

* `x` *int* - スクロールするX座標。
* `y` *int* - スクロールするY座標。
* `direction` *str* - スクロール方向（&#39;up&#39; または &#39;down&#39;）。
* `amount` *int* - スクロール量。

**戻り値**:

* `bool` - スクロール操作が成功したかどうか。

**例**:

```python
# Scroll up
scroll_up = await sandbox.computer_use.mouse.scroll(100, 200, "up", 3)

# 下にスクロール
scroll_down = await sandbox.computer_use.mouse.scroll(100, 200, "down", 5)
```

## AsyncKeyboard \{#asynckeyboard\}

```python
class AsyncKeyboard()
```

コンピューター使用機能におけるキーボード操作

#### AsyncKeyboard.type \{#asynckeyboardtype\}

```python
@intercept_errors(message_prefix="テキストの入力に失敗しました: ")
@with_instrumentation()
async def type(text: str, delay: int | None = None) -> None
```

指定したテキストを入力します。

**引数**:

* `text` *str* - 入力するテキスト。
* `delay` *int* - 文字ごとの遅延（ミリ秒）。

**例外**:

* `DaytonaError` - 入力処理に失敗した場合。

**例**:

```python
try:
    await sandbox.computer_use.keyboard.type("Hello, World!")
    print(f"Operation success")
except Exception as e:
    print(f"操作が失敗しました: {e}")

# With delay between characters
try:
    await sandbox.computer_use.keyboard.type("Slow typing", 100)
    print(f"Operation success")
except Exception as e:
    print(f"操作が失敗しました: {e}")
```

#### AsyncKeyboard.press \{#asynckeyboardpress\}

```python
@intercept_errors(message_prefix="キーの押下に失敗しました: ")
@with_instrumentation()
async def press(key: str, modifiers: list[str] | None = None) -> None
```

オプションの修飾キーとともにキーを押します。

**引数**:

* `key` *str* - 押すキー（例: &#39;Enter&#39;, &#39;Escape&#39;, &#39;Tab&#39;, &#39;a&#39;, &#39;A&#39;）。
* `modifiers` *list[str]* - 修飾キー（&#39;ctrl&#39;, &#39;alt&#39;, &#39;meta&#39;, &#39;shift&#39;）。

**例外**:

* `DaytonaError` - 押下操作に失敗した場合。

**例**:

```python
# Press Enter
try:
    await sandbox.computer_use.keyboard.press("Return")
    print(f"Operation success")
except Exception as e:
    print(f"操作失敗: {e}")

# Press Ctrl+C
try:
    await sandbox.computer_use.keyboard.press("c", ["ctrl"])
    print(f"Operation success")

# Press Ctrl+Shift+T
try:
    await sandbox.computer_use.keyboard.press("t", ["ctrl", "shift"])
    print(f"Operation success")
except Exception as e:
    print(f"操作失敗: {e}")
```

#### AsyncKeyboard.hotkey \{#asynckeyboardhotkey\}

```python
@intercept_errors(message_prefix="ホットキーの押下に失敗しました: ")
@with_instrumentation()
async def hotkey(keys: str) -> None
```

ホットキーの組み合わせを押下します。

**引数**:

* `keys` *str* - ホットキーの組み合わせ（例: &#39;ctrl+c&#39;, &#39;alt+tab&#39;, &#39;cmd+shift+t&#39;）。

**例外**:

* `DaytonaError` - ホットキー操作に失敗した場合。

**例**:

```python
# コピー
try:
    await sandbox.computer_use.keyboard.hotkey("ctrl+c")
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")

# ペースト
try:
    await sandbox.computer_use.keyboard.hotkey("ctrl+v")
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")

# Alt+Tab
try:
    await sandbox.computer_use.keyboard.hotkey("alt+tab")
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")
```

## AsyncScreenshot \{#asyncscreenshot\}

```python
class AsyncScreenshot()
```

コンピューター使用機能におけるスクリーンショットの操作

#### AsyncScreenshot.take_full_screen \{#asyncscreenshottake_full_screen\}

```python
@intercept_errors(message_prefix="スクリーンショットの撮影に失敗しました: ")
@with_instrumentation()
async def take_full_screen(show_cursor: bool = False) -> ScreenshotResponse
```

画面全体のスクリーンショットを撮影します。

**引数**:

* `show_cursor` *bool* - スクリーンショットにカーソルを表示するかどうか。

**戻り値**:

* `ScreenshotResponse` - 画像を base64 エンコードしたスクリーンショットデータ。

**例**:

```python
screenshot = await sandbox.computer_use.screenshot.take_full_screen()
print(f"スクリーンショットサイズ: {screenshot.width}x{screenshot.height}")

# With cursor visible
with_cursor = await sandbox.computer_use.screenshot.take_full_screen(True)
```

#### AsyncScreenshot.take_region \{#asyncscreenshottake_region\}

```python
@intercept_errors(message_prefix="Failed to take region screenshot: ")
@with_instrumentation()
async def take_region(region: ScreenshotRegion,
                      show_cursor: bool = False) -> ScreenshotResponse
```

特定の領域のスクリーンショットを取得します。

**引数**:

* `region` *ScreenshotRegion* - キャプチャする領域。
* `show_cursor` *bool* - スクリーンショットにカーソルを表示するかどうか。

**戻り値**:

* `ScreenshotResponse` - 画像を base64 エンコードしたスクリーンショットデータ。

**例**:

```python
region = ScreenshotRegion(x=100, y=100, width=300, height=200)
screenshot = await sandbox.computer_use.screenshot.take_region(region)
print(f"キャプチャした領域: {screenshot.region.width}x{screenshot.region.height}")
```

#### AsyncScreenshot.take_compressed \{#asyncscreenshottake_compressed\}

```python
@intercept_errors(message_prefix="圧縮スクリーンショットの取得に失敗しました: ")
@with_instrumentation()
async def take_compressed(
        options: ScreenshotOptions | None = None) -> ScreenshotResponse
```

画面全体の圧縮済みスクリーンショットを取得します。

**引数**:

* `options` *ScreenshotOptions | None* - 圧縮および表示に関するオプション。

**戻り値**:

* `ScreenshotResponse` - 圧縮済みスクリーンショットデータ。

**例**:

```python
# デフォルト圧縮
screenshot = await sandbox.computer_use.screenshot.take_compressed()

# High quality JPEG
jpeg = await sandbox.computer_use.screenshot.take_compressed(
    ScreenshotOptions(format="jpeg", quality=95, show_cursor=True)
)

# Scaled down PNG
scaled = await sandbox.computer_use.screenshot.take_compressed(
    ScreenshotOptions(format="png", scale=0.5)
)
```

#### AsyncScreenshot.take_compressed_region \{#asyncscreenshottake_compressed_region\}

```python
@intercept_errors(
    message_prefix="圧縮領域のスクリーンショット取得に失敗しました: ")
@with_instrumentation()
async def take_compressed_region(
        region: ScreenshotRegion,
        options: ScreenshotOptions | None = None) -> ScreenshotResponse
```

特定の領域のスクリーンショットを圧縮して取得します。

**引数**:

* `region` *ScreenshotRegion* - キャプチャする領域。
* `options` *ScreenshotOptions | None* - 圧縮および表示に関するオプション。

**戻り値**:

* `ScreenshotResponse` - 圧縮されたスクリーンショットデータ。

**例**:

```python
region = ScreenshotRegion(x=0, y=0, width=800, height=600)
screenshot = await sandbox.computer_use.screenshot.take_compressed_region(
    region,
    ScreenshotOptions(format="webp", quality=80, show_cursor=True)
)
print(f"圧縮後のサイズ: {screenshot.size_bytes} バイト")
```

## AsyncDisplay \{#asyncdisplay\}

```python
class AsyncDisplay()
```

コンピューター使用機能のディスプレイ操作

#### AsyncDisplay.get_info \{#asyncdisplayget_info\}

```python
@intercept_errors(message_prefix="ディスプレイ情報の取得に失敗しました: ")
@with_instrumentation()
async def get_info() -> DisplayInfoResponse
```

ディスプレイに関する情報を取得します。

**戻り値**:

* `DisplayInfoResponse` - 既定のディスプレイ（プライマリ）および利用可能なすべてのディスプレイを含むディスプレイ情報。

**例**:

```python
info = await sandbox.computer_use.display.get_info()
print(f"Primary display: {info.primary_display.width}x{info.primary_display.height}")
print(f"Total displays: {info.total_displays}")
for i, display in enumerate(info.displays):
    print(f"ディスプレイ {i}: {display.width}x{display.height} at {display.x},{display.y}")
```

#### AsyncDisplay.get_windows \{#asyncdisplayget_windows\}

```python
@intercept_errors(message_prefix="ウィンドウの取得に失敗しました: ")
@with_instrumentation()
async def get_windows() -> WindowsResponse
```

開いているウィンドウの一覧を取得します。

**戻り値**:

* `WindowsResponse` - ID とタイトルを含む開いているウィンドウの一覧。

**例**:

```python
windows = await sandbox.computer_use.display.get_windows()
print(f"{windows.count}個の開いているウィンドウが見つかりました:")
for window in windows.windows:
    print(f"- {window.title} (ID: {window.id})")
```

## AsyncRecordingService \{#asyncrecordingservice\}

```python
class AsyncRecordingService()
```

コンピューター使用機能の操作を記録する処理。

#### AsyncRecordingService.start \{#asyncrecordingservicestart\}

```python
@intercept_errors(message_prefix="Failed to start recording: ")
@with_instrumentation()
async def start(label: str | None = None) -> Recording
```

新しい画面録画セッションを開始します。

**引数**:

* `label` *str | None* - 録画を識別するための任意のカスタムラベル。

**戻り値**:

* `Recording` - 録画開始時のレスポンス。

**例**:

```python
# ラベルを指定して録画を開始
recording = await sandbox.computer_use.recording.start("my-test-recording")
print(f"Recording started: {recording.id}")
print(f"File: {recording.file_path}")
```

#### AsyncRecordingService.stop \{#asyncrecordingservicestop\}

```python
@intercept_errors(message_prefix="Failed to stop recording: ")
@with_instrumentation()
async def stop(recording_id: str) -> Recording
```

アクティブな画面録画セッションを停止します。

**引数**:

* `recording_id` *str* - 停止する録画の ID。

**戻り値**:

* `Recording` - 録画停止に対するレスポンス。

**例**:

```python
result = await sandbox.computer_use.recording.stop(recording.id)
print(f"Recording stopped: {result.duration_seconds} seconds")
print(f"Saved to: {result.file_path}")
```

#### AsyncRecordingService.list \{#asyncrecordingservicelist\}

```python
@intercept_errors(message_prefix="Failed to list recordings: ")
@with_instrumentation()
async def list() -> ListRecordingsResponse
```

すべての録画（進行中および完了済み）を一覧表示します。

**戻り値**:

* `ListRecordingsResponse` - すべての録画の一覧。

**例**:

```python
recordings = await sandbox.computer_use.recording.list()
print(f"Found {len(recordings.recordings)} recordings")
for rec in recordings.recordings:
    print(f"- {rec.file_name}: {rec.status}")
```

#### AsyncRecordingService.get \{#asyncrecordingserviceget\}

```python
@intercept_errors(message_prefix="Failed to get recording: ")
@with_instrumentation()
async def get(recording_id: str) -> Recording
```

ID で指定した特定の Recording の詳細を取得します。

**引数**:

* `recording_id` *str* - 取得する Recording の ID。

**戻り値**:

* `Recording` - Recording の詳細。

**例**:

```python
recording = await sandbox.computer_use.recording.get(recording_id)
print(f"Recording: {recording.file_name}")
print(f"Status: {recording.status}")
print(f"Duration: {recording.duration_seconds} seconds")
```

#### AsyncRecordingService.delete \{#asyncrecordingservicedelete\}

```python
@intercept_errors(message_prefix="Failed to delete recording: ")
@with_instrumentation()
async def delete(recording_id: str) -> None
```

ID を指定して録画を削除します。

**引数**:

* `recording_id` *str* - 削除する録画の ID。

**例**:

```python
await sandbox.computer_use.recording.delete(recording_id)
print("Recording deleted")
```

#### AsyncRecordingService.download \{#asyncrecordingservicedownload\}

```python
@intercept_errors(message_prefix="録画のダウンロードに失敗しました: ")
@with_instrumentation()
async def download(recording_id: str, local_path: str) -> None
```

サンドボックスから録画ファイルをダウンロードし、ローカルファイルとして保存します。

ファイルは内容全体をメモリに読み込まず、ディスクに直接ストリーミングされます。

**引数**:

* `recording_id` *str* - ダウンロードする録画ファイルの ID。
* `local_path` *str* - 録画ファイルをローカルに保存するパス。

**例**:

```python
# 録画をファイルにダウンロード
await sandbox.computer_use.recording.download(recording_id, "local_recording.mp4")
print("Recording downloaded")
```

## ScreenshotRegion（スクリーンショット・リージョン） \{#screenshotregion\}

```python
class ScreenshotRegion(BaseModel)
```

スクリーンショット操作用の領域座標。

**属性**:

* `x` *int* - 領域の X 座標。
* `y` *int* - 領域の Y 座標。
* `width` *int* - 領域の幅。
* `height` *int* - 領域の高さ。

## ScreenshotOptions \{#screenshotoptions\}

```python
class ScreenshotOptions(BaseModel)
```

スクリーンショットの圧縮および表示に関するオプション。

**Attributes**:

* `show_cursor` *bool | None* - スクリーンショットにカーソルを表示するかどうか。
* `fmt` *str | None* - 画像形式（例: &#39;png&#39;, &#39;jpeg&#39;, &#39;webp&#39;）。
* `quality` *int | None* - 圧縮品質（0〜100）。
* `scale` *float | None* - スクリーンショットのスケール係数。
