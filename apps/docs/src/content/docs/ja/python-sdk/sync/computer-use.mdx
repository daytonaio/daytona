---
title: "ComputerUse"
hideTitleOnPage: true
---

## ComputerUse \{#computeruse\}

```python
class ComputerUse()
```

デスクトップ環境と対話するためのコンピューター使用機能。

サンドボックス内でのデスクトップ操作を自動化するために、マウス、キーボード、スクリーンショット、ディスプレイの各操作へアクセスできます。

**属性**:

* `mouse` *Mouse* - マウス操作インターフェース。
* `keyboard` *Keyboard* - キーボード操作インターフェース。
* `screenshot` *Screenshot* - スクリーンショット操作インターフェース。
* `display` *Display* - ディスプレイ操作インターフェース。

#### ComputerUse.start \{#computerusestart\}

```python
@intercept_errors(message_prefix="コンピューター使用の開始に失敗しました: ")
def start() -> ComputerUseStartResponse
```

すべてのコンピューター使用プロセス（Xvfb、xfce4、x11vnc、novnc）を起動します。

**戻り値**:

* `ComputerUseStartResponse` - コンピューター使用の開始応答。

**例**:

```python
result = sandbox.computer_use.start()
print("コンピューター使用プロセスが開始されました:", result.message)
```

#### ComputerUse.stop（停止） \{#computerusestop\}

```python
@intercept_errors(message_prefix="コンピューター使用の停止に失敗しました: ")
def stop() -> ComputerUseStopResponse
```

すべてのコンピューター使用プロセスを停止します。

**戻り値**:

* `ComputerUseStopResponse` - コンピューター使用停止レスポンス。

**例**:

```python
result = sandbox.computer_use.stop()
print("コンピューター使用プロセスが停止しました:", result.message)
```

#### ComputerUse.get&#95;status \{#computeruseget&#95;status\}

```python
@intercept_errors(message_prefix="コンピューター使用ステータスの取得に失敗しました: ")
def get_status() -> ComputerUseStatusResponse
```

すべてのコンピューター使用プロセスの状態を取得します。

**戻り値**:

* `ComputerUseStatusResponse` - すべての VNC デスクトッププロセスに関する状態情報。

**例**:

```python
response = sandbox.computer_use.get_status()
print("コンピューター使用ステータス:", response.status)
```

#### ComputerUse.get&#95;process&#95;status \{#computeruseget&#95;process&#95;status\}

```python
@intercept_errors(message_prefix="プロセスステータスの取得に失敗しました: ")
def get_process_status(process_name: str) -> ProcessStatusResponse
```

特定のVNCプロセスのステータスを取得します。

**引数**:

* `process_name` *str* - 確認するプロセス名。

**戻り値**:

* `ProcessStatusResponse` - 指定したプロセスのステータス情報。

**例**:

```python
xvfb_status = sandbox.computer_use.get_process_status("xvfb")
no_vnc_status = sandbox.computer_use.get_process_status("novnc")
```

#### ComputerUse.restart&#95;process \{#computeruserestart&#95;process\}

```python
@intercept_errors(message_prefix="プロセスの再起動に失敗しました: ")
def restart_process(process_name: str) -> ProcessRestartResponse
```

特定の VNC プロセスを再起動します。

**引数**:

* `process_name` *str* - 再起動するプロセス名。

**戻り値**:

* `ProcessRestartResponse` - プロセス再起動の応答。

**例**:

```python
result = sandbox.computer_use.restart_process("xfce4")
print("XFCE4プロセスを再起動しました:", result.message)
```

#### ComputerUse.get&#95;process&#95;logs \{#computeruseget&#95;process&#95;logs\}

```python
@intercept_errors(message_prefix="プロセスログの取得に失敗しました: ")
def get_process_logs(process_name: str) -> ProcessLogsResponse
```

特定の VNC プロセスのログを取得します。

**引数**:

* `process_name` *str* - ログを取得する対象のプロセス名。

**戻り値**:

* `ProcessLogsResponse` - プロセスのログ。

**例**:

```python
logs = sandbox.computer_use.get_process_logs("novnc")
print("NoVNC ログ:", logs)
```

#### ComputerUse.get&#95;process&#95;errors \{#computeruseget&#95;process&#95;errors\}

```python
@intercept_errors(message_prefix="プロセスエラーの取得に失敗しました: ")
def get_process_errors(process_name: str) -> ProcessErrorsResponse
```

特定の VNC プロセスのエラーログを取得します。

**引数**:

* `process_name` *str* - エラーログを取得する対象のプロセス名。

**戻り値**:

* `ProcessErrorsResponse` - プロセスのエラーログ。

**例**:

```python
errors = sandbox.computer_use.get_process_errors("x11vnc")
print("X11VNCエラー:", errors)
```

## マウス \{#mouse\}

```python
class Mouse()
```

コンピューター使用機能におけるマウス操作

#### Mouse.get&#95;position \{#mouseget&#95;position\}

```python
@intercept_errors(message_prefix="マウス位置の取得に失敗しました: ")
def get_position() -> MousePosition
```

現在のマウスカーソル位置を取得します。

**戻り値**:

* `MousePosition` - x座標とy座標を含む現在のマウス位置。

**例**:

```python
position = sandbox.computer_use.mouse.get_position()
print(f"マウスの位置: {position.x}, {position.y}")
```

#### Mouse.move \{#mousemove\}

```python
@intercept_errors(message_prefix="マウスの移動に失敗しました: ")
def move(x: int, y: int) -> MouseMoveResponse
```

指定した座標へマウスカーソルを移動します。

**引数**:

* `x` *int* - 移動先のx座標。
* `y` *int* - 移動先のy座標。

**戻り値**:

* `MouseMoveResponse` - 移動操作の結果。

**例**:

```python
result = sandbox.computer_use.mouse.move(100, 200)
print(f"マウスの移動先: {result.x}, {result.y}")
```

#### Mouse.click \{#mouseclick\}

```python
@intercept_errors(message_prefix="マウスクリックに失敗しました: ")
def click(x: int,
          y: int,
          button: str = "left",
          double: bool = False) -> MouseClickResponse
```

指定した座標でマウスをクリックします。

**引数**:

* `x` *int* - クリック先の x 座標。
* `y` *int* - クリック先の y 座標。
* `button` *str* - クリックするマウスボタン（&#39;left&#39;、&#39;right&#39;、&#39;middle&#39;）。
* `double` *bool* - ダブルクリックを行うかどうか。

**戻り値**:

* `MouseClickResponse` - クリック操作の結果。

**例**:

```python
# 左シングルクリック
result = sandbox.computer_use.mouse.click(100, 200)

# ダブルクリック
double_click = sandbox.computer_use.mouse.click(100, 200, "left", True)

# 右クリック
right_click = sandbox.computer_use.mouse.click(100, 200, "right")
```

#### Mouse.drag \{#mousedrag\}

```python
@intercept_errors(message_prefix="マウスのドラッグに失敗しました: ")
def drag(start_x: int,
         start_y: int,
         end_x: int,
         end_y: int,
         button: str = "left") -> MouseDragResponse
```

開始座標から終了座標までマウスをドラッグします。

**引数**:

* `start_x` *int* - 開始x座標。
* `start_y` *int* - 開始y座標。
* `end_x` *int* - 終了x座標。
* `end_y` *int* - 終了y座標。
* `button` *str* - ドラッグに使用するマウスボタン。

**戻り値**:

* `MouseDragResponse` - ドラッグ操作の結果。

**例**:

```python
result = sandbox.computer_use.mouse.drag(50, 50, 150, 150)
print(f"ドラッグしました: ({result.from_x},{result.from_y}) から ({result.to_x},{result.to_y}) へ")
```

#### Mouse.scroll \{#mousescroll\}

```python
@intercept_errors(message_prefix="マウススクロールに失敗しました: ")
def scroll(x: int, y: int, direction: str, amount: int = 1) -> bool
```

指定した座標でマウスホイールをスクロールします。

**引数**:

* `x` *int* - スクロールするX座標。
* `y` *int* - スクロールするY座標。
* `direction` *str* - スクロール方向（&#39;up&#39; または &#39;down&#39;）。
* `amount` *int* - スクロール量。

**戻り値**:

* `bool` - スクロール操作が成功したかどうか。

**例**:

```python
# 上にスクロール
scroll_up = sandbox.computer_use.mouse.scroll(100, 200, "up", 3)

# 下にスクロール
scroll_down = sandbox.computer_use.mouse.scroll(100, 200, "down", 5)
```

## キーボード \{#keyboard\}

```python
class Keyboard()
```

コンピューター使用機能のキーボード操作

#### Keyboard.type \{#keyboardtype\}

```python
@intercept_errors(message_prefix="テキストの入力に失敗しました: ")
def type(text: str, delay: Optional[int] = None) -> None
```

指定したテキストをタイプ入力します。

**引数**:

* `text` *str* - タイプするテキスト。
* `delay` *int* - 文字ごとの遅延（ミリ秒）。

**例外**:

* `DaytonaError` - タイプ操作に失敗した場合。

**例**:

```python
try:
    sandbox.computer_use.keyboard.type("Hello, World!")
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")

# 文字間の遅延を設定
try:
    sandbox.computer_use.keyboard.type("Slow typing", 100)
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")
```

#### Keyboard.press \{#keyboardpress\}

```python
@intercept_errors(message_prefix="キーの押下に失敗しました: ")
def press(key: str, modifiers: Optional[List[str]] = None) -> None
```

オプションの修飾キーとともにキーを押します。

**引数**:

* `key` *str* - 押すキー（例: &#39;Enter&#39;, &#39;Escape&#39;, &#39;Tab&#39;, &#39;a&#39;, &#39;A&#39;）。
* `modifiers` *List[str]* - 修飾キー（&#39;ctrl&#39;, &#39;alt&#39;, &#39;meta&#39;, &#39;shift&#39;）。

**送出**:

* `DaytonaError` - 押下操作に失敗した場合。

**例**:

```python
# Enterキーを押す
try:
    sandbox.computer_use.keyboard.press("Return")
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")

# Ctrl+Cを押す
try:
    sandbox.computer_use.keyboard.press("c", ["ctrl"])
    print(f"操作成功")

# Ctrl+Shift+Tを押す
try:
    sandbox.computer_use.keyboard.press("t", ["ctrl", "shift"])
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")
```

#### Keyboard.hotkey \{#keyboardhotkey\}

```python
@intercept_errors(message_prefix="ホットキーの押下に失敗しました: ")
def hotkey(keys: str) -> None
```

ホットキーの組み合わせを押します。

**引数**:

* `keys` *str* - ホットキーの組み合わせ（例: &#39;ctrl+c&#39;, &#39;alt+tab&#39;, &#39;cmd+shift+t&#39;）。

**例外**:

* `DaytonaError` - ホットキーの実行に失敗した場合。

**例**:

```python
# コピー
try:
    sandbox.computer_use.keyboard.hotkey("ctrl+c")
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")

# 貼り付け
try:
    sandbox.computer_use.keyboard.hotkey("ctrl+v")
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")

# Alt+Tab
try:
    sandbox.computer_use.keyboard.hotkey("alt+tab")
    print(f"操作成功")
except Exception as e:
    print(f"操作失敗: {e}")
```

## スクリーンショット \{#screenshot\}

```python
class Screenshot()
```

コンピューター使用機能向けのスクリーンショット操作

#### Screenshot.take&#95;full&#95;screen \{#screenshottake&#95;full&#95;screen\}

```python
@intercept_errors(message_prefix="スクリーンショットの取得に失敗しました: ")
def take_full_screen(show_cursor: bool = False) -> ScreenshotResponse
```

画面全体のスクリーンショットを取得します。

**引数**:

* `show_cursor` *bool* - スクリーンショットにカーソルを表示するかどうか。

**戻り値**:

* `ScreenshotResponse` - 画像を base64 エンコードしたスクリーンショットデータ。

**例**:

```python
screenshot = sandbox.computer_use.screenshot.take_full_screen()
print(f"スクリーンショットサイズ: {screenshot.width}x{screenshot.height}")

# カーソルを表示する場合
with_cursor = sandbox.computer_use.screenshot.take_full_screen(True)
```

#### Screenshot.take&#95;region \{#screenshottake&#95;region\}

```python
@intercept_errors(message_prefix="領域スクリーンショットの取得に失敗しました: ")
def take_region(region: ScreenshotRegion,
                show_cursor: bool = False) -> RegionScreenshotResponse
```

特定の領域のスクリーンショットを取得します。

**引数**:

* `region` *ScreenshotRegion* - キャプチャする領域。
* `show_cursor` *bool* - スクリーンショットにカーソルを表示するかどうか。

**戻り値**:

* `RegionScreenshotResponse` - 画像を base64 でエンコードしたスクリーンショットデータ。

**例**:

```python
region = ScreenshotRegion(x=100, y=100, width=300, height=200)
screenshot = sandbox.computer_use.screenshot.take_region(region)
print(f"キャプチャされた領域: {screenshot.region.width}x{screenshot.region.height}")
```

#### Screenshot.take&#95;compressed \{#screenshottake&#95;compressed\}

```python
@intercept_errors(message_prefix="圧縮スクリーンショットの取得に失敗しました: ")
def take_compressed(
    options: Optional[ScreenshotOptions] = None
) -> CompressedScreenshotResponse
```

画面全体のスクリーンショットを圧縮して取得します。

**引数**:

* `options` *ScreenshotOptions* - 圧縮および表示に関するオプション。

**戻り値**:

* `CompressedScreenshotResponse` - 圧縮されたスクリーンショットデータ。

**例**:

```python
# デフォルト圧縮
screenshot = sandbox.computer_use.screenshot.take_compressed()

# 高品質JPEG
jpeg = sandbox.computer_use.screenshot.take_compressed(
    ScreenshotOptions(format="jpeg", quality=95, show_cursor=True)
)

# 縮小PNG
scaled = sandbox.computer_use.screenshot.take_compressed(
    ScreenshotOptions(format="png", scale=0.5)
)
```

#### Screenshot.take&#95;compressed&#95;region \{#screenshottake&#95;compressed&#95;region\}

```python
@intercept_errors(
    message_prefix="圧縮領域スクリーンショットの取得に失敗しました: ")
def take_compressed_region(
    region: ScreenshotRegion,
    options: Optional[ScreenshotOptions] = None
) -> CompressedScreenshotResponse
```

特定の領域の圧縮スクリーンショットを取得します。

**引数**:

* `region` *ScreenshotRegion* - キャプチャする領域。
* `options` *ScreenshotOptions* - 圧縮および表示のオプション。

**戻り値**:

* `CompressedScreenshotResponse` - 圧縮済みスクリーンショットのデータ。

**例**:

```python
region = ScreenshotRegion(x=0, y=0, width=800, height=600)
screenshot = sandbox.computer_use.screenshot.take_compressed_region(
    region,
    ScreenshotOptions(format="webp", quality=80, show_cursor=True)
)
print(f"圧縮サイズ: {screenshot.size_bytes} バイト")
```

## 表示 \{#display\}

```python
class Display()
```

コンピューター使用機能のディスプレイ操作

#### Display.get&#95;info \{#displayget&#95;info\}

```python
@intercept_errors(message_prefix="ディスプレイ情報の取得に失敗しました: ")
def get_info() -> DisplayInfoResponse
```

ディスプレイに関する情報を取得します。

**戻り値**:

* `DisplayInfoResponse` - プライマリディスプレイおよび利用可能なすべてのディスプレイを含むディスプレイ情報。

**例**:

```python
info = sandbox.computer_use.display.get_info()
print(f"プライマリディスプレイ: {info.primary_display.width}x{info.primary_display.height}")
print(f"総ディスプレイ数: {info.total_displays}")
for i, display in enumerate(info.displays):
    print(f"ディスプレイ {i}: {display.width}x{display.height} at {display.x},{display.y}")
```

#### Display.get&#95;windows \{#displayget&#95;windows\}

```python
@intercept_errors(message_prefix="ウィンドウの取得に失敗しました: ")
def get_windows() -> WindowsResponse
```

開いているウィンドウの一覧を取得します。

**戻り値**:

* `WindowsResponse` - 各ウィンドウのIDとタイトルを含む、開いているウィンドウの一覧。

**例**:

```python
windows = sandbox.computer_use.display.get_windows()
print(f"{windows.count}個の開いているウィンドウが見つかりました:")
for window in windows.windows:
    print(f"- {window.title} (ID: {window.id})")
```

## ScreenshotRegion \{#screenshotregion\}

```python
class ScreenshotRegion()
```

スクリーンショット操作のための領域座標。

**属性**:

* `x` *int* - 領域のX座標。
* `y` *int* - 領域のY座標。
* `width` *int* - 領域の幅。
* `height` *int* - 領域の高さ。

## ScreenshotOptions \{#screenshotoptions\}

```python
class ScreenshotOptions()
```

スクリーンショットの圧縮および表示に関するオプション。

**属性**:

* `show_cursor` *bool* - スクリーンショットにカーソルを表示するかどうか。
* `fmt` *str* - 画像形式（例: &#39;png&#39;、&#39;jpeg&#39;、&#39;webp&#39;）。
* `quality` *int* - 圧縮品質（0～100）。
* `scale` *float* - スクリーンショットの拡大縮小率。
