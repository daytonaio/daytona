---
title: リージョン & ランナー
---

import { TabItem, Tabs } from '@astrojs/starlight/components'

サンドボックスは、Daytona のコンピュートプレーンを構成するマシンである **ランナー** 上で動作する、分離されたランタイム環境です。

ランナーは **リージョン** に編成されており、これはコンピュートインフラストラクチャの地理的または論理的なグループです。サンドボックスを作成する際、特定のリージョンを指定でき、Daytona はそのリージョン内の利用可能なランナーにワークロードをスケジュールします。

これにより、次のことが可能になります:

* レイテンシ低減のために特定の地理的な場所を選択する
* データ所在要件に準拠する
* カスタムリージョン向けに独自のランナーマシンを使用する
* 各カスタムリージョン内でコンピュートリソースを個別にスケールする

## リージョン \{#regions\}

リージョンは、サンドボックスのワークロードを実行するランナーを地理的または論理的にまとめたグループです。サンドボックスのリージョンは、初期化時に `target` パラメーターを設定することで指定します。

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    from daytona import Daytona, DaytonaConfig

    # Daytona を US リージョンで使用するように設定
    config = DaytonaConfig(
        target="us"
    )

    # 指定した設定で Daytona クライアントを初期化
    daytona = Daytona(config)
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    import { Daytona } from '@daytonaio/sdk';

    // Daytona を EU リージョンで使用するように設定
    const daytona: Daytona = new Daytona({
        target: "eu"
    });
    ```
  </TabItem>
</Tabs>

### 共有リージョン \{#shared-regions\}

共有リージョンは Daytona によって管理され、すべての組織で利用できます。これらのリージョンを利用すると、事前の設定なしに Daytona のインフラストラクチャへ即時にアクセスできます。

制限は、組織のデフォルトリージョンに適用されます。別の共有リージョンへのアクセスが必要な場合は、[sales@daytona.io](mailto:sales@daytona.io) までお問い合わせください。

| Region        | Target |
| ------------- | ------ |
| United States | `us`   |
| Europe        | `eu`   |

### 専用リージョン \{#dedicated-regions\}

専用リージョンは Daytona によって管理され、各組織専用としてプロビジョニングされます。これらのリージョンは、マネージドサービスの運用の容易さを維持しつつ、専用インフラストラクチャを提供します。

組織向けの専用リージョンをセットアップするには、[sales@daytona.io](mailto:sales@daytona.io) までお問い合わせください。

### カスタムリージョン \{#custom-regions\}

カスタムリージョンは組織によって作成および管理され、独自のランナーマシンを利用し、各リージョン内でコンピュートリソースを個別にスケールできるようにします。これにより、データの所在、コンプライアンス、およびインフラストラクチャ構成を最大限に制御できます。

さらに、カスタムリージョンには同時リソース使用に対する制限が設けられていないため、キャパシティとパフォーマンスを完全に制御できます。

:::caution
カスタムリージョンは現在実験的な機能であり、将来のリリースで変更される可能性があります。
アクセスをリクエストするには、[support@daytona.io](mailto:support@daytona.io) までご連絡ください。
:::

#### カスタムリージョン設定 \{#custom-region-configuration\}

**name** (必須)

* リージョンの一意の識別子
* 英数字、アンダースコア、ピリオド、ハイフンのみを使用できます
* サンドボックスを作成する際に、このリージョンを指定するために使用されます

**proxyUrl** (任意)

* このリージョン内のサンドボックスへのトラフィックをルーティングするプロキシサービスのURL
* このリージョンのランナーマシンがプライベートネットワーク内にデプロイされている場合は必須です

**sshGatewayUrl** (任意)

* このリージョン内のサンドボックスへのSSH接続を処理するSSHゲートウェイのURL
* このリージョンのランナーマシンがプライベートネットワーク内にデプロイされている場合は必須です

**snapshotManagerUrl** (任意)

* このリージョン内のスナップショットの保存および取得を処理するスナップショットマネージャーのURL
* このリージョンのランナーマシンがプライベートネットワーク内にデプロイされている場合は必須です

#### カスタムリージョンの認証情報 \{#custom-region-credentials\}

カスタムリージョンを作成すると、Daytona は設定したオプションサービスごとに以下の認証情報を提供します。

* プロキシサービスが Daytona との認証に使用する API キー
* SSH ゲートウェイサービスが Daytona との認証に使用する API キー
* Daytona がスナップショットマネージャーサービスにアクセスするために使用する Basic 認証情報

:::note
必要に応じて、プロキシおよび SSH ゲートウェイ用の API キーはいつでも再生成できますが、更新された認証情報を使用して対応するサービスを再デプロイする必要があります。
:::

## ランナー \{#runners\}

ランナーは Daytona のコンピュートプレーンを支えるマシンであり、サンドボックスのワークロードを実行するための基盤インフラを提供します。各ランナーは次の役割を担っています:

* **Workload Execution** — サンドボックスのワークロードを実行する
* **Resource Management** — CPU、メモリ、ディスクリソースの割り当てと監視
* **Health Reporting** — Daytona のコントロールプレーンへ各種メトリクスやヘルスステータスを継続的に報告
* **Network Connectivity** — サンドボックス向けのネットワーク、プロキシ接続、および SSH アクセスを管理

**共有**リージョンと**専有**リージョンのランナーは、プロビジョニングやメンテナンスから監視とスケーリングに至るまで、すべて Daytona によってフルマネージドで提供されます。**カスタム**リージョンでは、ユーザー自身がランナーマシンを用意し、その管理と運用に責任を持ちます。

### カスタムランナー \{#custom-runners\}

カスタムランナーは組織によって作成および管理され、独自のランナーマシンを使用し、各カスタムリージョン内でコンピュートリソースを個別にスケールできるようにします。

:::caution
カスタムランナーは現在実験的な機能であり、今後のリリースで変更される可能性があります。
アクセスをご希望の場合は、[support@daytona.io](mailto:support@daytona.io) までお問い合わせください。
:::

#### カスタムランナー構成 \{#custom-runner-configuration\}

**name** (必須)

* ランナーの一意の識別子
* 英字、数字、アンダースコア、ピリオド、ハイフンのみを使用できる
* 同じリージョン内の複数のランナーを識別するために使用される

**regionId** (必須)

* このランナーが割り当てられているリージョンの ID
* 自身の組織が所有するカスタムリージョンである必要がある
* リージョン内のすべてのランナーは、そのリージョンのプロキシおよび SSH ゲートウェイの構成を共有する

#### カスタムランナーのトークン \{#custom-runner-token\}

カスタムランナーを作成すると、Daytona はランナーが Daytona への認証に使用する **トークン** を発行します。

:::note
このトークンは安全な場所に保存してください。後から確認することはできません。
:::

#### カスタムランナーのインストール \{#installing-the-custom-runner\}

カスタムランナーを登録してセキュアトークンを取得したら、インフラストラクチャ上に Daytona ランナーアプリケーションをインストールして設定する必要があります。

:::note
ランナーアプリケーションの詳細なインストール手順は、今後のアップデートで提供される予定です。ランナーのインストールに関するサポートが必要な場合は、[support@daytona.io](mailto:support@daytona.io) までお問い合わせください。
:::