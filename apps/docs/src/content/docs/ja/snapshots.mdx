---
title: スナップショット
---

import { TabItem, Tabs } from '@astrojs/starlight/components'
import Label from '@components/Label.astro'

スナップショットは、[Docker](https://www.docker.com/) または [OCI](https://opencontainers.org/) 互換イメージから作成できるサンドボックスのテンプレートです。サンドボックスは、[デフォルトのスナップショット](#default-snapshots)またはカスタムスナップショットを利用して、依存関係、設定、リソースにおいて一貫性があり再現可能なサンドボックス環境を提供できます。

Daytona では、スナップショットを利用してサンドボックス内で [Docker](#run-docker-in-a-sandbox) および [Kubernetes](#run-kubernetes-in-a-sandbox) のワークロードを実行できます。

## スナップショットを作成する \{#create-snapshots\}

Daytona では、[Daytona Dashboard ↗](https://app.daytona.io/dashboard/snapshots) から、または Daytona の [Python](/docs/ja/python-sdk/sync/snapshot)、[TypeScript](/docs/ja/typescript-sdk/snapshot)、[Ruby](/docs/ja/ruby-sdk/snapshot)、[Go](/docs/ja/go-sdk/daytona#SnapshotService) **SDK**、[CLI](/docs/ja/tools/cli#daytona-snapshot)、[API](/docs/ja/tools/api#daytona/tag/snapshots) を利用してプログラムから、スナップショットを作成できます。

スナップショットは次のいずれかを使用して作成できます：

* [パブリックイメージ](#using-public-images)
* [ローカルイメージ](#using-local-images)
* [プライベートレジストリのイメージ](#using-images-from-private-registries)
* [宣言的ビルダー](#using-the-declarative-builder)

1. [Daytona Snapshots ↗](https://app.daytona.io/dashboard/snapshots) に移動します
2. **Create Snapshot** ボタンをクリックします
3. **snapshot name**、**image**（タグまたはダイジェスト）、**entrypoint**、**resources** を入力します

* **Snapshot name**：SDK や CLI でスナップショットを参照するために使用される識別子です。
* **Image**：スナップショットのベースイメージです。タグまたはダイジェスト（例：**`ubuntu:22.04`**）のいずれかを含める必要があります。**`latest`** タグは使用できません。`latest` タグが付いているイメージは頻繁に更新されるため、特定のタグのみがサポートされます。`lts` や `stable` といったタグについても同様です。そのため、予期しない動作を防ぐために、イメージを定義する際にはそれらの使用を避けることを推奨します。
* **Entrypoint**（任意）：スナップショットのエントリポイントとなるコマンドです。エントリポイントが長時間実行されるコマンドであることを確認してください。指定しない場合、またはスナップショットにエントリポイントがない場合は、デフォルトで `sleep infinity` が使用されます。
* [**Resources**](/docs/ja/sandboxes#resources)（任意）：対応するサンドボックスに割り当てたいリソースです。デフォルトでは、Daytona サンドボックスは **1 vCPU**、**1GiB メモリ**、**3GiB ストレージ** を使用します。

<Tabs>
  <TabItem label="Python" icon="seti:python">
    ```python
    image = Image.debian_slim('3.12').pip_install('numpy')
    daytona.snapshot.create(
        CreateSnapshotParams(name='my-awesome-snapshot', image=image),
        on_logs=lambda chunk: print(chunk, end=""),
    )
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    const image = Image.debianSlim('3.12').pipInstall('numpy');
    await daytona.snapshot.create({ name: 'my-awesome-snapshot', image: image }, { onLogs: console.log });
    ```
  </TabItem>

  <TabItem label="Ruby" icon="seti:ruby">
    ```ruby
    image = Image.debian_slim('3.12').pip_install('numpy')
    params = CreateSnapshotParams.new(name: 'my-awesome-snapshot', image: image)
    snapshot = daytona.snapshot.create(params) do |chunk|
      print chunk
    end
    ```
  </TabItem>

  <TabItem label="Go" icon="seti:go">
    ```go
    // Docker Hub のイメージから作成
    snapshot, logChan, err := client.Snapshots.Create(ctx, &types.CreateSnapshotParams{
        Name:  "my-awesome-snapshot",
        Image: "python:3.11-slim",
    })
    if err != nil {
        return err
    }

    // ビルドログをストリーミング
    for log := range logChan {
        fmt.Println(log)
    }

    // カスタムイメージとリソースで作成
    image := daytona.Base("python:3.11").PipInstall([]string{"numpy"})
    snapshot, logChan, err := client.Snapshots.Create(ctx, &types.CreateSnapshotParams{
        Name:  "my-awesome-snapshot",
        Image: image,
        Resources: &types.Resources{CPU: 2, Memory: 4096},
    })
    ```
  </TabItem>

  <TabItem label="CLI" icon="seti:shell">
    ```bash
    daytona snapshot create my-awesome-snapshot --image python:3.11-slim --cpu 2 --memory 4
    ```
  </TabItem>

  <TabItem label="API" icon="seti:json">
    ```bash
    curl https://app.daytona.io/api/snapshots \
      --request POST \
      --header 'Content-Type: application/json' \
      --header 'Authorization: Bearer YOUR_SECRET_TOKEN' \
      --data '{
        "name": "my-awesome-snapshot",
        "imageName": "python:3.11-slim",
        "cpu": 2,
        "memory": 4
      }'
    ```
  </TabItem>
</Tabs>

詳しくは、[Python SDK](/docs/ja/python-sdk/sync/snapshot)、[TypeScript SDK](/docs/ja/typescript-sdk/snapshot)、[Ruby SDK](/docs/ja/ruby-sdk/snapshot)、[Go SDK](/docs/ja/go-sdk/daytona#SnapshotService.Create)、[CLI](/docs/ja/tools/cli#daytona-snapshot)、および [API](/docs/ja/tools/api/#daytona/tag/snapshots) の各リファレンスを参照してください。

> [**create (Python SDK)**](/docs/ja/python-sdk/sync/snapshot#snapshotservicecreate)
>
> [**create (TypeScript SDK)**](/docs/ja/typescript-sdk/snapshot#create)
>
> [**create (Ruby SDK)**](/docs/ja/ruby-sdk/snapshot/#create)
>
> [**create (Go SDK)**](/docs/ja/go-sdk/daytona#SnapshotService.Create)
>
> [**create (CLI)**](/docs/ja/tools/cli/#daytona-snapshot-create)
>
> [**create (API)**](/docs/ja/tools/api/#daytona/tag/snapshots/POST/snapshots)

### パブリックイメージを使用する \{#using-public-images\}

Daytona は、公開アクセス可能な任意のコンテナイメージやコンテナレジストリ上のイメージからスナップショットを作成することをサポートしています。

1. [Daytona Snapshots ↗](https://app.daytona.io/dashboard/snapshots) に移動します
2. **Create Snapshot** ボタンをクリックします
3. 公開アクセス可能なコンテナイメージまたはコンテナレジストリ上のイメージの **snapshot name** と **image**（タグまたはダイジェスト）を入力します

スナップショットのプルと検証が完了して `Active` 状態になると、使用可能な状態になります。

<Tabs>
  <TabItem label="Python" icon="seti:python">
    ```python
    daytona.snapshot.create(
        CreateSnapshotParams(name='my-awesome-snapshot', image='python:3.11-slim'),
        on_logs=lambda chunk: print(chunk, end=""),
    )
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    await daytona.snapshot.create({ name: 'my-awesome-snapshot', image: 'python:3.11-slim' }, { onLogs: console.log });
    ```
  </TabItem>

  <TabItem label="Ruby" icon="seti:ruby">
    ```ruby
    params = CreateSnapshotParams.new(name: 'my-awesome-snapshot', image: 'python:3.11-slim')
    snapshot = daytona.snapshot.create(params) do |chunk|
      print chunk
    end
    ```
  </TabItem>

  <TabItem label="Go" icon="seti:go">
    ```go
    snapshot, logChan, err := client.Snapshots.Create(ctx, &types.CreateSnapshotParams{
        Name:  "my-awesome-snapshot",
        Image: "python:3.11-slim",
    })
    if err != nil {
        return err
    }

    // Stream build logs
    for log := range logChan {
        fmt.Println(log)
    }
    ```
  </TabItem>

  <TabItem label="CLI" icon="seti:shell">
    ```bash
    daytona snapshot create my-awesome-snapshot --image python:3.11-slim
    ```
  </TabItem>

  <TabItem label="API" icon="seti:json">
    ```bash
    curl https://app.daytona.io/api/snapshots \
      --request POST \
      --header 'Content-Type: application/json' \
      --header 'Authorization: Bearer YOUR_SECRET_TOKEN' \
      --data '{
        "name": "my-awesome-snapshot",
        "imageName": "python:3.11-slim"
      }'
    ```
  </TabItem>
</Tabs>

詳細については、[Python SDK](/docs/ja/python-sdk/sync/snapshot)、[TypeScript SDK](/docs/ja/typescript-sdk/snapshot)、[Ruby SDK](/docs/ja/ruby-sdk/snapshot)、[Go SDK](/docs/ja/go-sdk/daytona#SnapshotService.Create)、[CLI](/docs/ja/tools/cli#daytona-snapshot)、および [API](/docs/ja/tools/api/#daytona/tag/snapshots) のリファレンスを参照してください。

> [**create (Python SDK)**](/docs/ja/python-sdk/sync/snapshot#snapshotservicecreate)
>
> [**create (TypeScript SDK)**](/docs/ja/typescript-sdk/snapshot#create)
>
> [**create (Ruby SDK)**](/docs/ja/ruby-sdk/snapshot/#create)
>
> [**create (Go SDK)**](/docs/ja/go-sdk/daytona#SnapshotService.Create)
>
> [**create (CLI)**](/docs/ja/tools/cli#daytona-snapshot-create)
>
> [**create (API)**](/docs/ja/tools/api/#daytona/tag/snapshots/POST/snapshots)

### ローカルイメージの使用 \{#using-local-images\}

Daytona は、ローカルイメージまたはローカルの Dockerfile からスナップショットを作成できます。ローカルイメージまたはローカルの Dockerfile からスナップショットを作成するには、[Daytona CLI](/docs/ja/tools/cli#daytona-snapshot) を使用します。

Daytona では、ローカルイメージが AMD64 アーキテクチャ向けにビルドされていることを前提としています。そのため、マシンが別のアーキテクチャで動作している場合は、Docker イメージをビルドする際に `--platform=linux/amd64` フラグを指定する必要があります。

1. 使用したいイメージとタグが利用可能であることを確認する

```bash
docker images
```

2. スナップショットを作成して Daytona にプッシュします:

```bash
daytona snapshot push custom-alpine:3.21 --name alpine-minimal
```

:::tip
`--cpu`、`--memory`、`--disk` フラグを使用して、サンドボックスに割り当てる[リソース](/docs/ja/sandboxes#resources)を指定します。例：

<br />

```bash
daytona snapshot push custom-alpine:3.21 --name alpine-minimal --cpu 2 --memory 4 --disk 8
```

:::

または、`create` コマンドで `--dockerfile` フラグを指定して、使用したい Dockerfile へのパスを渡すことで、Daytona がスナップショットをビルドします。`COPY`/`ADD` コマンドは自動的に解析され、コンテキストに追加されます。コンテキストにファイルを手動で追加するには、`--context` フラグを使用します。

```bash
daytona snapshot create my-awesome-snapshot --dockerfile ./Dockerfile
```

```text
Building image from /Users/user/docs/Dockerfile
Step 1/5 : FROM alpine:latest

...
 ⡿  Waiting for the Snapshot to be validated ...
...

 ✓  Use 'harbor-transient.internal.daytona.app/daytona/trying-daytona:0.0.1' to create a new sandbox using this Snapshot
```

### プライベートレジストリのイメージを使用する \{#using-images-from-private-registries\}

Daytona では、[Docker Hub](#docker-hub)、[Google Artifact Registry](#google-artifact-registry)、[GitHub Container Registry](#github-container-registry) などのプライベートコンテナレジストリのイメージからスナップショットを作成できます。

1. [Daytona Registries ↗](https://app.daytona.io/dashboard/registries) に移動します
2. **Add Registry** ボタンをクリックします
3. **レジストリ名**、**レジストリ URL**、**ユーザー名**、**パスワード**、および **プロジェクト**（該当する場合）を入力します
4. コンテナレジストリが正常に作成されたら、[Daytona Snapshots ↗](https://app.daytona.io/dashboard/snapshots) に移動します
5. **Create Snapshot** ボタンをクリックします
6. **スナップショット名** とプライベート **イメージ**（タグまたはダイジェスト）を入力します。スナップショットを作成する際は、レジストリの場所とプロジェクト名を含む完全なプライベートイメージ名を入力してください（例: **`my-private-registry.com/<my-project>/custom-alpine:3.21`**）

必要に応じて、カスタムスナップショットを使用するために **`CreateSandboxFromSnapshotParams`** フィールドを設定してください。

#### Docker Hub \{#docker-hub\}

Daytona では、Docker Hub イメージからスナップショットを作成できます。

1. [Daytona Registries ↗](https://app.daytona.io/dashboard/registries) に移動します
2. **Add Registry** ボタンをクリックします
3. **レジストリ名**、**レジストリ URL**、**ユーザー名**、**パスワード**、**プロジェクト**（該当する場合）を入力します

* **Registry URL**: `docker.io`
* **Username**: Docker Hub のユーザー名（イメージへのアクセス権を持つアカウント）
* **Password**: [Docker Hub Personal Access Token](https://docs.docker.com/docker-hub/access-tokens/)（アカウントのパスワードではありません）
* **Create the Snapshot**: `docker.io/<username>/<image>:<tag>`

4. コンテナレジストリが正常に作成されたら、[Daytona Snapshots ↗](https://app.daytona.io/dashboard/snapshots) に移動します
5. **Create Snapshot** ボタンをクリックします
6. **スナップショット名**と**イメージ**（タグまたはダイジェスト）を入力します。スナップショットを作成する際は、レジストリの場所とプロジェクト名を含む完全なイメージ名を入力します（例: **`docker.io/<username>/<image>:<tag>`**）

#### Google Artifact Registry \{#google-artifact-registry\}

Daytona では、Google Artifact Registry のイメージからスナップショットを作成できます。

Google Artifact Registry のイメージを使用するには、JSON 形式の [サービス アカウント キー](https://cloud.google.com/iam/docs/keys-create-delete) を使用してレジストリを設定します。

1. [Daytona Registries ↗](https://app.daytona.io/dashboard/registries) にアクセスします
2. **Add Registry** ボタンをクリックします
3. **レジストリ名**、**Registry URL**、**ユーザー名**、**パスワード**、および **プロジェクト**（該当する場合）を入力します

* **Registry URL**: 使用するリージョンのベース URL（例: `https://us-central1-docker.pkg.dev` または `https://us-central1-docker.pkg.dev/your-org`）
* **Username**: `_json_key`
* **Password**: Service Account の JSON キーファイルの内容全体を貼り付けます
* **Project**: Google Cloud プロジェクト ID
* **Create the Snapshot**: `us-central1-docker.pkg.dev/<project>/<repo>/<image>:<tag>`

4. コンテナ レジストリが正常に作成されたら、[Daytona Snapshots ↗](https://app.daytona.io/dashboard/snapshots) に移動します
5. **Create Snapshot** ボタンをクリックします
6. **スナップショット名** と **イメージ**（タグまたはダイジェスト）を入力します。スナップショットを作成する際は、レジストリの場所とプロジェクト名を含むイメージ名全体を入力してください（例: **`us-central1-docker.pkg.dev/<project>/<repo>/<image>:<tag>`**）

#### GitHub Container Registry (GHCR) \{#github-container-registry-ghcr\}

Daytona は GitHub Container Registry (GHCR) のイメージからスナップショットを作成することに対応しています。

1. [Daytona Registries ↗](https://app.daytona.io/dashboard/registries) にアクセスします
2. **Add Registry** ボタンをクリックします
3. **registry name**、**registry URL**、**username**、**password**、および **project**（該当する場合）を入力します

* **Registry URL**: `ghcr.io`
* **Username**: GitHub のユーザー名（イメージへのアクセス権を持つアカウント）
* **Password**: [GitHub Personal Access Token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token)（アカウントのパスワードではありません）。Personal access token (PAT) には **`write:packages`**、**`read:packages`**、**`delete:packages`** の各スコープが必要です。

4. コンテナレジストリが正常に作成されたら、[Daytona Snapshots ↗](https://app.daytona.io/dashboard/snapshots) にアクセスします
5. **Create Snapshot** ボタンをクリックします
6. **snapshot name** と **image**（タグまたはダイジェスト）を入力します。スナップショットを作成する際は、レジストリの場所とプロジェクト名を含む完全なイメージ名を入力してください（例: **`ghcr.io/<my-project>/custom-alpine:3.21`**）

### 宣言的ビルダーの使用 \{#using-the-declarative-builder\}

[Declarative Builder](/docs/ja/declarative-builder) を使用すると、Daytona サンドボックスの依存関係を定義するための強力なコードファーストアプローチを利用できます。コンテナレジストリからイメージをインポートする代わりに、Daytona の [SDKs](/docs/ja/getting-started#sdks) を使って、プログラムでイメージを定義できます。

### リソース \{#resources\}

スナップショットは、特定のリソース要件に合わせてカスタマイズできます。デフォルトでは、Daytona サンドボックスは **1 vCPU**、**1GB RAM**、**3GiB ディスク** を使用します。詳細については、[sandbox resources](/docs/ja/sandboxes#resources) を参照してください。

利用可能なリソース量とその制限を確認するには、[limits](/docs/ja/limits) を参照するか、[Daytona Limits ↗](https://app.daytona.io/dashboard/limits) に移動してください。

スナップショットが使用するリソースは、`Resources` クラスを使用してカスタマイズできます。

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    from daytona import (
        Daytona,
        CreateSnapshotParams,
        Image,
        Resources,
    )

    daytona = Daytona()

    # カスタムのリソース構成でスナップショットを作成
    daytona.snapshot.create(
      CreateSnapshotParams(
        name="my-awesome-snapshot",
        image=Image.debian_slim("3.12"),
        resources=Resources(
          cpu=2,
          memory=4,
          disk=8,
        ),
      ),
      on_logs=print,
    )
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    import { Daytona, Image } from '@daytonaio/sdk'

    const daytona = new Daytona()

    // カスタムのリソース構成でスナップショットを作成
    await daytona.snapshot.create(
      {
        name: 'my-awesome-snapshot',
        image: Image.debianSlim('3.13'),
        resources: {
          cpu: 2,
          memory: 4,
          disk: 8,
        },
      },
      { onLogs: console.log }
    )
    ```
  </TabItem>

  <TabItem label="Ruby" icon="seti:ruby">
    ```ruby
    require 'daytona'

    daytona = Daytona::Daytona.new

    # カスタムのリソース構成でスナップショットを作成
    daytona.snapshot.create(
      Daytona::CreateSnapshotParams.new(
        name: 'my-awesome-snapshot',
        image: Daytona::Image.debian_slim('3.12'),
        resources: Daytona::Resources.new(
          cpu: 2,
          memory: 4,
          disk: 8
        )
      ),
      on_logs: proc { |chunk| puts chunk }
    )
    ```
  </TabItem>

  <TabItem label="Go" icon="seti:go">
    ```go
    // カスタムのリソース構成でスナップショットを作成
    image := daytona.Base("python:3.11").PipInstall([]string{"numpy"})
    snapshot, logChan, err := client.Snapshots.Create(ctx, &types.CreateSnapshotParams{
        Name:      "my-awesome-snapshot",
        Image:     image,
        Resources: &types.Resources{CPU: 2, Memory: 4, Disk: 8},
    })
    if err != nil {
        return err
    }

    // ビルドログをストリーミングする
    for log := range logChan {
        fmt.Println(log)
    }
    ```
  </TabItem>

  <TabItem label="CLI" icon="seti:shell">
    ```bash
    daytona snapshot create my-awesome-snapshot --image python:3.11-slim --cpu 2 --memory 4 --disk 8
    ```
  </TabItem>

  <TabItem label="API" icon="seti:json">
    ```bash
    curl https://app.daytona.io/api/snapshots \
      --request POST \
      --header 'Content-Type: application/json' \
      --header 'Authorization: Bearer YOUR_SECRET_TOKEN' \
      --data '{
        "name": "my-awesome-snapshot",
        "imageName": "python:3.11-slim",
        "cpu": 2,
        "memory": 4,
        "disk": 8
      }'
    ```
  </TabItem>
</Tabs>

詳細については、[Python SDK](/docs/ja/python-sdk)、[TypeScript SDK](/docs/ja/typescript-sdk)、[Ruby SDK](/docs/ja/ruby-sdk)、[Go SDK](/docs/ja/go-sdk/daytona#SnapshotService.Create)、[CLI](/docs/ja/tools/cli#daytona-snapshot-create)、および [API](/docs/ja/tools/api/#daytona/tag/snapshots) の各リファレンスを参照してください。

> [**CreateSnapshotParams (Python SDK)**](/docs/ja/python-sdk/sync/snapshot#createsnapshotparams)
>
> [**CreateSnapshotParams (TypeScript SDK)**](/docs/ja/typescript-sdk/snapshot#createsnapshotparams)
>
> [**CreateSnapshotParams (Ruby SDK)**](/docs/ja/ruby-sdk/snapshot#create)
>
> [**CreateSnapshotParams (Go SDK)**](/docs/ja/go-sdk/types#CreateSnapshotParams)
>
> [**create (CLI)**](/docs/ja/tools/cli#daytona-snapshot-create)
>
> [**create (API)**](/docs/ja/tools/api/#daytona/tag/snapshots/POST/snapshots)

### リージョン \{#regions\}

スナップショットを作成する際、そのスナップショットを利用可能にする[リージョン](/docs/ja/regions)を指定できます。指定しない場合、スナップショットは所属する組織のデフォルトリージョンで作成されます。

後からこのスナップショットからサンドボックスを作成する際に、そのサンドボックスの対象リージョンとしてスナップショットのリージョンを使用できます。

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    from daytona import (
        Daytona,
        CreateSnapshotParams,
        Image,
    )

    daytona = Daytona()

    # 特定のリージョンでスナップショットを作成
    daytona.snapshot.create(
      CreateSnapshotParams(
        name="my-awesome-snapshot",
        image=Image.debian_slim("3.12"),
        region_id="us",
      ),
      on_logs=print,
    )

    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    import { Daytona, Image } from "@daytonaio/sdk";

    const daytona = new Daytona();

    // 特定のリージョンでスナップショットを作成
    await daytona.snapshot.create(
      {
        name: "my-awesome-snapshot",
        image: Image.debianSlim("3.13"),
        regionId: "us",
      },
      { onLogs: console.log }
    );
    ```
  </TabItem>

  <TabItem label="Ruby" icon="seti:ruby">
    ```ruby
    require 'daytona'

    daytona = Daytona::Daytona.new

    # 特定のリージョンでスナップショットを作成
    daytona.snapshot.create(
      Daytona::CreateSnapshotParams.new(
        name: 'my-awesome-snapshot',
        image: Daytona::Image.debian_slim('3.12'),
        region_id: 'us'
      ),
      on_logs: proc { |chunk| puts chunk }
    )
    ```
  </TabItem>

  <TabItem label="CLI" icon="seti:shell">
    ```bash
    daytona snapshot create my-awesome-snapshot --image python:3.11-slim --region us
    ```
  </TabItem>

  <TabItem label="API" icon="seti:json">
    ```bash
    curl https://app.daytona.io/api/snapshots \
      --request POST \
      --header 'Content-Type: application/json' \
      --header 'Authorization: Bearer YOUR_SECRET_TOKEN' \
      --data '{
        "name": "my-awesome-snapshot",
        "imageName": "python:3.11-slim",
        "regionId": "us"
      }'
    ```
  </TabItem>
</Tabs>

詳しくは、[Python SDK](/docs/ja/python-sdk/sync/snapshot)、[TypeScript SDK](/docs/ja/typescript-sdk/snapshot)、[Ruby SDK](/docs/ja/ruby-sdk/snapshot)、[CLI](/docs/ja/tools/cli#daytona-snapshot-create)、および [API](/docs/ja/tools/api/#daytona/tag/snapshots) のリファレンスを参照してください。

> [**create (Python SDK)**](/docs/ja/python-sdk/sync/snapshot#snapshotservicecreate)
>
> [**create (TypeScript SDK)**](/docs/ja/typescript-sdk/snapshot#create)
>
> [**create (Ruby SDK)**](/docs/ja/ruby-sdk/snapshot/#create)
>
> [**create (CLI)**](/docs/ja/tools/cli#daytona-snapshot-create)
>
> [**create (API)**](/docs/ja/tools/api/#daytona/tag/snapshots/POST/snapshots)

## 名前でスナップショットを取得する \{#get-a-snapshot-by-name\}

Daytona では、名前を指定してスナップショットを取得する機能を提供しています。

次のコードスニペットは、指定した名前のスナップショットを返します。

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    daytona = Daytona()
    snapshot = daytona.snapshot.get("my-awesome-snapshot")
    print(f"{snapshot.name} ({snapshot.image_name})")
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    const daytona = new Daytona()
    const snapshot = await daytona.snapshot.get('my-awesome-snapshot')
    console.log(`Snapshot ${snapshot.name} is in state ${snapshot.state}`)
    ```
  </TabItem>

  <TabItem label="Ruby" icon="seti:ruby">
    ```ruby
    daytona = Daytona::Daytona.new
    snapshot = daytona.snapshot.get('my-awesome-snapshot')
    puts "#{snapshot.name} (#{snapshot.image_name})"
    ```
  </TabItem>

  <TabItem label="Go" icon="seti:go">
    ```go
    snapshot, err := client.Snapshots.Get(ctx, "my-awesome-snapshot")
    if err != nil {
        return err
    }
    fmt.Printf("%s (%s)\n", snapshot.Name, snapshot.ImageName)
    ```
  </TabItem>

  <TabItem label="API" icon="seti:json">
    ```bash
    curl https://app.daytona.io/api/snapshots/my-awesome-snapshot \
      --header 'Authorization: Bearer YOUR_SECRET_TOKEN'
    ```
  </TabItem>
</Tabs>

詳細については、[Python SDK](/docs/ja/python-sdk/sync/snapshot#snapshotserviceget)、[TypeScript SDK](/docs/ja/typescript-sdk/snapshot#get)、[Ruby SDK](/docs/ja/ruby-sdk/snapshot#get)、[Go SDK](/docs/ja/go-sdk/daytona#SnapshotService.Get)、および [API](/docs/ja/tools/api/#daytona/tag/snapshots) のリファレンスを参照してください。

> [**get (Python SDK)**](/docs/ja/python-sdk/sync/snapshot#snapshotserviceget)
>
> [**get (TypeScript SDK)**](/docs/ja/typescript-sdk/snapshot#get)
>
> [**get (Ruby SDK)**](/docs/ja/ruby-sdk/snapshot#get)
>
> [**get (Go SDK)**](/docs/ja/go-sdk/daytona#SnapshotService.Get)
>
> [**get (API)**](/docs/ja/tools/api/#daytona/tag/snapshots/GET/snapshots/\{snapshotName})

## スナップショットの一覧取得 \{#list-snapshots\}

Daytona では、スナップショットを一覧表示し、その詳細を確認するための機能を提供しています。

次のスニペットは、1 ページ目にあるすべてのスナップショットを、1 ページあたり 10 件を上限として取得します。

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    daytona = Daytona()
    result = daytona.snapshot.list(page=2, limit=10)
    for snapshot in result.items:
        print(f"{snapshot.name} ({snapshot.image_name})")
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    const daytona = new Daytona()
    const result = await daytona.snapshot.list(1, 10)
    console.log(`Found ${result.total} snapshots`)
    result.items.forEach(snapshot =>
      console.log(`${snapshot.name} (${snapshot.imageName})`)
    )
    ```
  </TabItem>

  <TabItem label="Ruby" icon="seti:ruby">
    ```ruby
    daytona = Daytona::Daytona.new
    result = daytona.snapshot.list(page: 2, limit: 10)
    result.items.each do |snapshot|
      puts "#{snapshot.name} (#{snapshot.image_name})"
    end
    ```
  </TabItem>

  <TabItem label="Go" icon="seti:go">
    ```go
    // デフォルトの上限で最初のページを一覧表示
    result, err := client.Snapshots.List(ctx, nil, nil)
    if err != nil {
        return err
    }

    // ページネーション付きで一覧表示
    page, limit := 2, 10
    result, err := client.Snapshots.List(ctx, &page, &limit)
    fmt.Printf("Page %d of %d, total: %d\n", result.Page, result.TotalPages, result.Total)
    ```
  </TabItem>

  <TabItem label="CLI" icon="seti:shell">
    ```bash
    # ページネーション付きでスナップショットを一覧表示
    daytona snapshot list --page 2 --limit 10
    ```
  </TabItem>

  <TabItem label="API" icon="seti:json">
    ```bash
    curl 'https://app.daytona.io/api/snapshots?page=2&limit=10' \
      --header 'Authorization: Bearer YOUR_SECRET_TOKEN'
    ```
  </TabItem>
</Tabs>

詳細については、[Python SDK](/docs/ja/python-sdk/sync/snapshot)、[TypeScript SDK](/docs/ja/typescript-sdk/snapshot)、[Ruby SDK](/docs/ja/ruby-sdk/snapshot)、[Go SDK](/docs/ja/go-sdk/daytona#SnapshotService.List)、[CLI](/docs/ja/tools/cli#daytona-snapshot-list)、および [API](/docs/ja/tools/api/#daytona/tag/snapshots) のリファレンスを参照してください。

> [**list (Python SDK)**](/docs/ja/python-sdk/sync/snapshot#snapshotservicelist)
>
> [**list (TypeScript SDK)**](/docs/ja/typescript-sdk/snapshot#list)
>
> [**list (Ruby SDK)**](/docs/ja/ruby-sdk/snapshot#list)
>
> [**list (Go SDK)**](/docs/ja/go-sdk/daytona#SnapshotService.List)
>
> [**list (CLI)**](/docs/ja/tools/cli#daytona-snapshot-list)
>
> [**list (API)**](/docs/ja/tools/api#daytona/tag/snapshots/GET/snapshots)

## スナップショットを有効化する \{#activate-snapshots\}

スナップショットは、2週間使用されないと自動的に非アクティブになります。非アクティブなスナップショットを有効化するには、次の手順を実行します。

1. [Daytona Snapshots ↗](https://app.daytona.io/dashboard/snapshots) に移動します
2. 有効化するスナップショットの行の末尾にあるその他メニュー（⋯）をクリックします
3. **Activate** ボタンをクリックします

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    daytona = Daytona()
    snapshot = daytona.snapshot.get("my-inactive-snapshot")
    activated_snapshot = daytona.snapshot.activate(snapshot)
    print(f"Snapshot {activated_snapshot.name} activated")
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    const daytona = new Daytona()
    const snapshot = await daytona.snapshot.get("my-inactive-snapshot")
    const activatedSnapshot = await daytona.snapshot.activate(snapshot)
    console.log(`Snapshot ${activatedSnapshot.name} activated`)
    ```
  </TabItem>

  <TabItem label="Ruby" icon="seti:ruby">
    ```ruby
    daytona = Daytona::Daytona.new
    snapshot = daytona.snapshot.get('my-inactive-snapshot')
    activated_snapshot = daytona.snapshot.activate(snapshot)
    puts "Snapshot #{activated_snapshot.name} activated"
    ```
  </TabItem>

  <TabItem label="API" icon="seti:json">
    ```bash
    curl https://app.daytona.io/api/snapshots/my-inactive-snapshot/activate \
      --request POST \
      --header 'Authorization: Bearer YOUR_SECRET_TOKEN'
    ```
  </TabItem>
</Tabs>

詳細については、[Python SDK](/docs/ja/python-sdk/sync/snapshot#snapshotserviceactivate)、[TypeScript SDK](/docs/ja/typescript-sdk/snapshot#activate)、[Ruby SDK](/docs/ja/ruby-sdk/snapshot#activate)、および [API](/docs/ja/tools/api/#daytona/tag/snapshots) のリファレンスを参照してください。

> [**activate (Python SDK)**](/docs/ja/python-sdk/sync/snapshot#snapshotserviceactivate)
>
> [**activate (TypeScript SDK)**](/docs/ja/typescript-sdk/snapshot#activate)
>
> [**activate (Ruby SDK)**](/docs/ja/ruby-sdk/snapshot#activate)
>
> [**activate (API)**](/docs/ja/tools/api/#daytona/tag/snapshots/POST/snapshots/\{snapshotName}/activate)

## スナップショットを無効化する \{#deactivate-snapshots\}

Daytona では、スナップショットを無効化することができます。無効化されたスナップショットは、新しいサンドボックスでは利用できません。

1. [Daytona Snapshots ↗](https://app.daytona.io/dashboard/snapshots) に移動します
2. 無効化したいスナップショットの行の末尾にある三点リーダーアイコンをクリックします
3. **Deactivate** ボタンをクリックします

## スナップショットの削除 \{#delete-snapshots\}

Daytona では、スナップショットを削除できます。削除されたスナップショットは復元することはできません。

1. [Daytona Snapshots ↗](https://app.daytona.io/dashboard/snapshots) に移動します
2. 削除したいスナップショットの行末にある三点アイコンをクリックします
3. **Delete** ボタンをクリックします

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    daytona = Daytona()
    snapshot = daytona.snapshot.get("my-awesome-snapshot")
    daytona.snapshot.delete(snapshot)
    print("Snapshot deleted")
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    const daytona = new Daytona()
    const snapshot = await daytona.snapshot.get("my-awesome-snapshot")
    await daytona.snapshot.delete(snapshot)
    console.log("Snapshot deleted")
    ```
  </TabItem>

  <TabItem label="Ruby" icon="seti:ruby">
    ```ruby
    daytona = Daytona::Daytona.new
    snapshot = daytona.snapshot.get('my-awesome-snapshot')
    daytona.snapshot.delete(snapshot)
    puts 'Snapshot deleted'
    ```
  </TabItem>

  <TabItem label="Go" icon="seti:go">
    ```go
    snapshot, err := client.Snapshots.Get(ctx, "my-awesome-snapshot")
    if err != nil {
        return err
    }
    err = client.Snapshots.Delete(ctx, snapshot)
    if err != nil {
        return err
    }
    fmt.Println("Snapshot deleted")
    ```
  </TabItem>

  <TabItem label="CLI" icon="seti:shell">
    ```bash
    daytona snapshot delete my-awesome-snapshot
    ```
  </TabItem>

  <TabItem label="API" icon="seti:json">
    ```bash
    curl https://app.daytona.io/api/snapshots/my-awesome-snapshot \
      --request DELETE \
      --header 'Authorization: Bearer YOUR_SECRET_TOKEN'
    ```
  </TabItem>
</Tabs>

詳細については、[Python SDK](/docs/ja/python-sdk/sync/snapshot#snapshotservicedelete)、[TypeScript SDK](/docs/ja/typescript-sdk/snapshot#delete)、[Ruby SDK](/docs/ja/ruby-sdk/snapshot#delete)、[Go SDK](/docs/ja/go-sdk/daytona#SnapshotService.Delete)、[CLI](/docs/ja/tools/cli#daytona-snapshot-delete)、および [API](/docs/ja/tools/api/#daytona/tag/snapshots) のリファレンスを参照してください。

> [**delete (Python SDK)**](/docs/ja/python-sdk/sync/snapshot#snapshotservicedelete)
>
> [**delete (TypeScript SDK)**](/docs/ja/typescript-sdk/snapshot#delete)
>
> [**delete (Ruby SDK)**](/docs/ja/ruby-sdk/snapshot#delete)
>
> [**delete (Go SDK)**](/docs/ja/go-sdk/daytona#SnapshotService.Delete)
>
> [**delete (CLI)**](/docs/ja/tools/cli#daytona-snapshot-delete)
>
> [**delete (API)**](/docs/ja/tools/api/#daytona/tag/snapshots/DELETE/snapshots/\{snapshotName})

## サンドボックスで Docker を実行する \{#run-docker-in-a-sandbox\}

Daytona のサンドボックスでは内部で Docker コンテナを実行できます（**Docker-in-Docker**）。これにより、コンテナ化アプリケーションのビルド、テスト、デプロイが可能になります。特に、データベース、メッセージキュー、その他のマイクロサービスといった外部サービスに依存するプロジェクトで有用です。

これらのサービスが同一のサンドボックス環境内で動作するため、エージェントはシームレスに連携できます。これにより、外部サービスに依存する場合と比べて、より強固な分離性とセキュリティを確保できます。次のようなユースケースがサポートされています。

* データベース（PostgreSQL、Redis、MySQL）やその他のサービスの実行
* コンテナ化アプリケーションのビルドとテスト
* マイクロサービスとその依存関係のデプロイ
* フル機能のコンテナオーケストレーションを備えた分離された開発環境の作成

:::note
Docker-in-Docker サンドボックスは、Docker デーモンのオーバーヘッドにより追加のリソースが必要になります。最適なパフォーマンスのために、少なくとも 2 vCPU と 4GiB のメモリを割り当てることを検討してください。
:::

### Docker-in-Docker スナップショットの作成 \{#create-a-docker-in-docker-snapshot\}

Daytona では、プリビルドの Docker-in-Docker イメージをベースにするか、カスタムイメージに Docker を手動でインストールすることで、Docker に対応したスナップショットを作成できるオプションを提供しています。

#### 事前構築済みイメージの利用 \{#using-pre-built-images\}

以下のベースイメージは、Docker-in-Docker のスナップショット作成で広く利用されているほか、カスタム Dockerfile のベースとしても利用できます。

* `docker:28.3.3-dind`: 公式 Docker-in-Docker イメージ（Alpine ベース、軽量）
* `docker:28.3.3-dind-rootless`: セキュリティ強化のための rootless Docker-in-Docker
* `docker:28.3.2-dind-alpine3.22`: Alpine 3.22 を用いた Docker-in-Docker イメージ

#### 手動インストールを利用する \{#using-manual-installation\}

別の方法として、カスタム Dockerfile で Docker を手動インストールします：

```dockerfile
FROM ubuntu:22.04
# 公式インストールスクリプトで Docker をインストール
RUN curl -fsSL https://get.docker.com | VERSION=28.3.3 sh -
```

### サンドボックス内で Docker Compose を実行する \{#run-docker-compose-in-a-sandbox\}

Docker Compose を使用すると、マルチコンテナアプリケーションを定義して実行できます。Docker-in-Docker が有効になっている Daytona のサンドボックスでは、Docker Compose を使用してデータベースやキャッシュ、アプリケーションコンテナなどのサービスをオーケストレーションできます。

まず、[Daytona Dashboard ↗](https://app.daytona.io/dashboard/snapshots) または [CLI](/docs/ja/tools/cli#daytona-snapshot-create) から [事前構築済みイメージ](#using-pre-built-images)（例: `docker:28.3.3-dind`）のいずれかを使って Docker-in-Docker のスナップショットを作成します。次に、以下のスニペットを使用して、サンドボックス内で Docker Compose サービスを実行します。

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    from daytona import Daytona, CreateSandboxFromSnapshotParams

    # Daytona クライアントを初期化
    daytona = Daytona()

    # Docker-in-Docker スナップショットからサンドボックスを作成
    sandbox = daytona.create(CreateSandboxFromSnapshotParams(snapshot='docker-dind'))

    # docker-compose.yml ファイルを作成
    compose_content = '''
    services:
      web:
        image: nginx:alpine
        ports:
          - "8080:80"
    '''
    sandbox.fs.upload_file(compose_content.encode(), 'docker-compose.yml')

    # Docker Compose サービスを起動
    result = sandbox.process.exec('docker compose -p demo up -d')
    print(result.result)

    # 実行中のサービスを確認
    result = sandbox.process.exec('docker compose -p demo ps')
    print(result.result)

    # クリーンアップ
    sandbox.process.exec('docker compose -p demo down')
    ```
  </TabItem>

  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    import { Daytona } from '@daytonaio/sdk'

    // Daytona クライアントを初期化
    const daytona = new Daytona()

    // Docker-in-Docker スナップショットからサンドボックスを作成
    const sandbox = await daytona.create({ snapshot: 'docker-dind' })

    // docker-compose.yml ファイルを作成
    const composeContent = `
    services:
      web:
        image: nginx:alpine
        ports:
          - "8080:80"
    `
    await sandbox.fs.uploadFile(Buffer.from(composeContent), 'docker-compose.yml')

    // Docker Compose サービスを起動
    let result = await sandbox.process.executeCommand('docker compose -p demo up -d')
    console.log(result.result)

    // 実行中のサービスを確認
    result = await sandbox.process.executeCommand('docker compose -p demo ps')
    console.log(result.result)

    // クリーンアップ
    await sandbox.process.executeCommand('docker compose -p demo down')
    ```
  </TabItem>

  <TabItem label="Ruby" icon="seti:ruby">
    ```ruby
    require 'daytona'

    # Daytona クライアントを初期化
    daytona = Daytona::Daytona.new

    # Docker-in-Docker スナップショットからサンドボックスを作成
    sandbox = daytona.create(Daytona::CreateSandboxFromSnapshotParams.new(snapshot: 'docker-dind'))

    # docker-compose.yml ファイルを作成
    compose_content = <<~YAML
    services:
      web:
        image: nginx:alpine
        ports:
          - "8080:80"
    YAML
    sandbox.fs.upload_file(compose_content, 'docker-compose.yml')

    # Docker Compose サービスを起動
    result = sandbox.process.exec(command: 'docker compose -p demo up -d')
    puts result.result

    # 実行中のサービスを確認
    result = sandbox.process.exec(command: 'docker compose -p demo ps')
    puts result.result

    # クリーンアップ
    sandbox.process.exec(command: 'docker compose -p demo down')
    ```
  </TabItem>

  <TabItem label="Go" icon="seti:go">
    ```go
    package main

    import (
    	"context"
    	"fmt"

    	"github.com/daytonaio/sdk-go/daytona"
    	"github.com/daytonaio/sdk-go/types"
    )

    func main() {
    	ctx := context.Background()

    	// Daytona クライアントを初期化
    	client, _ := daytona.NewDaytona(nil)

    	// Docker-in-Docker スナップショットからサンドボックスを作成
    	sandbox, _ := client.Create(ctx, &types.CreateSandboxFromSnapshotParams{
    		Snapshot: daytona.Ptr("docker-dind"),
    	}, nil)

    	// docker-compose.yml ファイルを作成
    	composeContent := `
    services:
      web:
        image: nginx:alpine
        ports:
          - "8080:80"
    `
    	sandbox.Fs.UploadFile(ctx, []byte(composeContent), "docker-compose.yml")

    	// Docker Compose サービスを起動
    	result, _ := sandbox.Process.ExecuteCommand(ctx, "docker compose -p demo up -d", nil)
    	fmt.Println(result.Result)

    	// 実行中のサービスを確認
    	result, _ = sandbox.Process.ExecuteCommand(ctx, "docker compose -p demo ps", nil)
    	fmt.Println(result.Result)

    	// クリーンアップ
    	sandbox.Process.ExecuteCommand(ctx, "docker compose -p demo down", nil)
    }
    ```
  </TabItem>
</Tabs>

## サンドボックスで Kubernetes を実行する \{#run-kubernetes-in-a-sandbox\}

Daytona サンドボックスでは、サンドボックス内に Kubernetes クラスターを実行できます。Kubernetes はサンドボックス内だけで動作し、サンドボックスの削除時にまとめて削除されるため、環境を安全かつ再現可能な状態に保てます。

### サンドボックス内で k3s を実行する \{#run-k3s-in-a-sandbox\}

次のスニペットは、サンドボックス内に k3s クラスターをインストールして起動し、実行中のすべての Pod を一覧表示します。

```typescript
import { Daytona } from '@daytonaio/sdk'
import { setTimeout } from 'timers/promises'

// Daytonaクライアントを初期化する
const daytona = new Daytona()

// サンドボックスインスタンスを作成する
const sandbox = await daytona.create()

// k3sインストールスクリプトを実行する
const response = await sandbox.process.executeCommand(
  'curl -sfL https://get.k3s.io | sh -'
)

// k3sを実行する
const sessionName = 'k3s-server'
await sandbox.process.createSession(sessionName)
const k3s = await sandbox.process.executeSessionCommand(sessionName, {
  command: 'sudo /usr/local/bin/k3s server',
  async: true,
})

// k3sが完全に起動するまで待機する
await setTimeout(30000)

// すべてのPodを取得する
const pods = await sandbox.process.executeCommand(
  'sudo /usr/local/bin/kubectl get pod -A'
)
console.log(pods.result)
```

## デフォルトのスナップショット \{#default-snapshots\}

サンドボックス作成時にスナップショットを指定しない場合、Daytona はデフォルトのスナップショットを使用します。これには `python`、`node`、それぞれの言語サーバー、および一般的な pip パッケージが含まれます。Daytona では、デフォルトスナップショットとして 3 種類のサイズを提供しています:

| **スナップショット** | **vCPU** | **メモリ** | **ストレージ** |
| -------------------- | -------- | ---------- | ----------- |
| **`daytona-small`**  | 1        | 1GiB       | 3GiB        |
| **`daytona-medium`** | 2        | 4GiB       | 8GiB        |
| **`daytona-large`**  | 4        | 8GiB       | 10GiB       |

すべてのデフォルトスナップショットは、`daytonaio/sandbox:<version>` イメージをベースとしています。詳細については、[Dockerfile](https://github.com/daytonaio/daytona/blob/main/images/sandbox/Dockerfile) を参照してください。

### Python パッケージ (pip) \{#python-packages-pip\}

* `anthropic` (v0.76.0)
* `beautifulsoup4` (v4.14.3)
* `claude-agent-sdk` (v0.1.22)
* `daytona` (v0.134.0)
* `django` (v6.0.1)
* `flask` (v3.1.2)
* `huggingface-hub` (v0.36.0)
* `instructor` (v1.14.4)
* `keras` (v3.13.0)
* `langchain` (v1.2.7)
* `llama-index` (v0.14.13)
* `matplotlib` (v3.10.8)
* `numpy` (v2.4.1)
* `ollama` (v0.6.1)
* `openai` (v2.15.0)
* `opencv-python` (v4.13.0.90)
* `pandas` (v2.3.3)
* `pillow` (v12.1.0)
* `pydantic-ai` (v1.47.0)
* `requests` (v2.32.5)
* `scikit-learn` (v1.8.0)
* `scipy` (v1.17.0)
* `seaborn` (v0.13.2)
* `sqlalchemy` (v2.0.46)
* `torch` (v2.10.0)
* `transformers` (v4.57.6)

### Node.js パッケージ (npm) \{#nodejs-packages-npm\}

* `@anthropic-ai/claude-code` (v2.1.19)
* `bun` (v1.3.6)
* `openclaw` (v2026.2.1)
* `opencode-ai` (v1.1.35)
* `ts-node` (v10.9.2)
* `typescript` (v5.9.3)
* `typescript-language-server` (v5.1.3)