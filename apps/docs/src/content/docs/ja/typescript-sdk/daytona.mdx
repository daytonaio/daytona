---
title: "Daytona"
hideTitleOnPage: true
---

## Daytona \{#daytona\}

Daytona API と対話するためのメインクラス。
Daytona サンドボックスの作成、管理、操作のためのメソッドを提供します。
明示的な設定または環境変数を使用して初期化できます。

**プロパティ**:

* `snapshot` *SnapshotService* - Daytona スナップショットを管理するサービス
* `volume` *VolumeService* - Daytona ボリュームを管理するサービス

**例:**

```ts
// Using environment variables
// Uses DAYTONA_API_KEY, DAYTONA_API_URL, DAYTONA_TARGET
const daytona = new Daytona();
const sandbox = await daytona.create();
```

```ts
// Using explicit configuration
const config: DaytonaConfig = {
    apiKey: "your-api-key",
    apiUrl: "https://your-api.com",
    target: "us"
};
const daytona = new Daytona(config);

@class
```

### コンストラクター \{#constructors\}

#### new Daytona() \{#new-daytona\}

```ts
new Daytona(config?: DaytonaConfig): Daytona
```

新しい Daytona クライアントインスタンスを作成します。

**パラメータ**:

* `config?` *DaytonaConfig* - 設定オプション

**戻り値**:

* `Daytona`

**スロー**:

* `DaytonaError` - API キーが指定されていない場合

### メソッド \{#methods\}

#### create() \{#create\}

##### 呼び出しシグネチャ \{#call-signature\}

```ts
create(params?: CreateSandboxFromSnapshotParams, options?: {
  timeout: number;
}): Promise<Sandbox>
```

指定済みまたはデフォルトのスナップショットからサンドボックスを作成します。言語、イメージ、環境変数、ボリュームなど、さまざまなパラメータを指定できます。

**パラメータ**:

* `params?` *CreateSandboxFromSnapshotParams* - スナップショットからサンドボックスを作成するためのパラメータ
* `options?` *作成処理のオプション*
* `timeout?` *number* - タイムアウト（秒）（0 はタイムアウトなし、デフォルトは 60）

**戻り値**:

* `Promise<Sandbox>` - 作成されたサンドボックスインスタンス

**例:**

```ts
const sandbox = await daytona.create();
```

```ts
// Create a custom sandbox
const params: CreateSandboxFromSnapshotParams = {
    language: 'typescript',
    snapshot: 'my-snapshot-id',
    envVars: {
        NODE_ENV: 'development',
        DEBUG: 'true'
    },
    autoStopInterval: 60,
    autoArchiveInterval: 60,
    autoDeleteInterval: 120
};
const sandbox = await daytona.create(params, { timeout: 100 });
```

##### 呼び出しシグネチャ \{#call-signature\}

```ts
create(params?: CreateSandboxFromImageParams, options?: {
  onSnapshotCreateLogs: (chunk: string) => void;
  timeout: number;
}): Promise<Sandbox>
```

レジストリで利用可能な指定イメージ、または宣言的 Daytona イメージからサンドボックスを作成します。リソース、言語、イメージ、環境変数、ボリュームなど、さまざまなパラメータを指定できます。Daytona は提供されたイメージからスナップショットを作成し、それを用いてサンドボックスを作成します。

**パラメータ**:

* `params?` *CreateSandboxFromImageParams* - イメージからサンドボックスを作成するためのパラメータ
* `options?` *作成処理のオプション*
* `onSnapshotCreateLogs?` *(chunk: string) =&gt; void* - スナップショット作成ログを処理するコールバック関数
* `timeout?` *number* - タイムアウト（秒）（0 はタイムアウトなし、デフォルトは 60）

**戻り値**:

* `Promise<Sandbox>` - 作成されたサンドボックスインスタンス

**例:**

```ts
const sandbox = await daytona.create({ image: 'debian:12.9' }, { timeout: 90, onSnapshotCreateLogs: console.log });
```

```ts
// Create a custom sandbox
const image = Image.base('alpine:3.18').pipInstall('numpy');
const params: CreateSandboxFromImageParams = {
    language: 'typescript',
    image,
    envVars: {
        NODE_ENV: 'development',
        DEBUG: 'true'
    },
    resources: {
        cpu: 2,
        memory: 4 // 4GB RAM
    },
    autoStopInterval: 60,
    autoArchiveInterval: 60,
    autoDeleteInterval: 120
};
const sandbox = await daytona.create(params, { timeout: 100, onSnapshotCreateLogs: console.log });
```

***

#### delete() \{#delete\}

```ts
delete(sandbox: Sandbox, timeout: number): Promise<void>
```

サンドボックスを削除します。

**パラメータ**:

* `sandbox` *Sandbox* - 削除するサンドボックス
* `timeout` *number = 60* - タイムアウト（秒）（0 はタイムアウトなし、デフォルトは 60）

**戻り値**:

* `Promise<void>`

**例:**

```ts
const sandbox = await daytona.get('my-sandbox-id');
await daytona.delete(sandbox);
```

***

#### findOne() \{#findone\}

```ts
findOne(filter: SandboxFilter): Promise<Sandbox>
```

ID またはラベルでサンドボックスを検索します。

**パラメーター**:

* `filter` *SandboxFilter* - サンドボックスを絞り込むためのフィルター

**戻り値**:

* `Promise<Sandbox>` - ID またはラベルに一致する最初のサンドボックス。

**例:**

```ts
const sandbox = await daytona.findOne({ labels: { 'my-label': 'my-value' } });
console.log(`Sandbox ID: ${sandbox.id}, State: ${sandbox.state}`);
```

***

#### get() \{#get\}

```ts
get(sandboxId: string): Promise<Sandbox>
```

ID でサンドボックスを取得します。

**パラメーター**:

* `sandboxId` *string* - 取得するサンドボックスの ID

**戻り値**:

* `Promise<Sandbox>` - 取得されたサンドボックス

**例:**

```ts
const sandbox = await daytona.get('my-sandbox-id');
console.log(`Sandbox state: ${sandbox.state}`);
```

***

#### list() \{#list\}

```ts
list(labels?: Record<string, string>): Promise<Sandbox[]>
```

ラベルでフィルタしたサンドボックスを一覧表示します。

**パラメーター**:

* `labels?` *Record&lt;string, string&gt;* - サンドボックスをフィルタするラベル

**戻り値**:

* `Promise<Sandbox[]>` - ラベルに一致するサンドボックスの配列。

**例:**

```ts
const sandboxes = await daytona.list({ 'my-label': 'my-value' });
for (const sandbox of sandboxes) {
    console.log(`${sandbox.id}: ${sandbox.state}`);
}
```

***

#### start() \{#start\}

```ts
start(sandbox: Sandbox, timeout?: number): Promise<void>
```

サンドボックスを起動し、準備完了まで待機します。

**パラメーター**:

* `sandbox` *Sandbox* - 起動するサンドボックス
* `timeout?` *number* - 省略可能なタイムアウト（秒）（0 は無制限）

**戻り値**:

* `Promise<void>`

**例:**

```ts
const sandbox = await daytona.get('my-sandbox-id');
// サンドボックスの起動を最大 60 秒待機
await daytona.start(sandbox, 60);
```

***

#### stop() \{#stop\}

```ts
stop(sandbox: Sandbox): Promise<void>
```

サンドボックスを停止します。

**パラメーター**:

* `sandbox` *Sandbox* - 停止するサンドボックス

**戻り値**:

* `Promise<void>`

**例:**

```ts
const sandbox = await daytona.get('my-sandbox-id');
await daytona.stop(sandbox);
```

## CodeLanguage \{#codelanguage\}

コード実行でサポートされるプログラミング言語

**列挙体メンバー**:

* `JAVASCRIPT` (&quot;javascript&quot;)
* `PYTHON` (&quot;python&quot;)
* `TYPESCRIPT` (&quot;typescript&quot;)

## CreateSandboxBaseParams \{#createsandboxbaseparams\}

新しいサンドボックスを作成するための基本パラメータ。

**プロパティ**:

* `autoArchiveInterval?` *number* - 自動アーカイブの間隔（分）。0 は最大の間隔が使用されることを意味します。既定は 7 日。
* `autoDeleteInterval?` *number* - 自動削除の間隔（分）。負の値は無効、0 は停止時に即時削除を意味します。既定では自動削除は無効です。
* `autoStopInterval?` *number* - 自動停止の間隔（分）。0 は無効を意味します。既定は 15 分。
* `envVars?` *Record&lt;string, string&gt;* - サンドボックスに設定する任意の環境変数
* `ephemeral?` *boolean* - サンドボックスを短命（エフェメラル）にするかどうか。true の場合、autoDeleteInterval は 0 に設定されます。
* `labels?` *Record&lt;string, string&gt;* - サンドボックスのラベル
* `language?` *string* - 直接コード実行に使用するプログラミング言語
* `networkAllowList?` *string* - サンドボックスで許可する CIDR ネットワークアドレスのカンマ区切りリスト
* `networkBlockAll?` *boolean* - サンドボックスの全ネットワークアクセスをブロックするかどうか
* `public?` *boolean* - サンドボックスのポートプレビューを公開するかどうか
* `user?` *string* - サンドボックスで使用する任意の OS ユーザー
* `volumes?` *VolumeMount[]* - サンドボックスにマウントする任意のボリューム配列

## CreateSandboxFromImageParams \{#createsandboxfromimageparams\}

新しいサンドボックスを作成するためのパラメータ。

**プロパティ**:

* `autoArchiveInterval?` *number*
* `autoDeleteInterval?` *number*
* `autoStopInterval?` *number*
* `envVars?` *Record&lt;string, string&gt;*
* `ephemeral?` *boolean*
* `image` *string | Image* - サンドボックスで使用するカスタム Docker イメージ。Image オブジェクトが指定された場合は、
  イメージが動的にビルドされます。
* `labels?` *Record&lt;string, string&gt;*
* `language?` *string*
* `networkAllowList?` *string*
* `networkBlockAll?` *boolean*
* `public?` *boolean*
* `resources?` *Resources* - サンドボックスのリソース割り当て。指定しない場合、サンドボックスには
  デフォルトのリソースが割り当てられます。
* `user?` *string*
* `volumes?` *VolumeMount[]*

## CreateSandboxFromSnapshotParams \{#createsandboxfromsnapshotparams\}

スナップショットから新しいサンドボックスを作成するためのパラメータ。

**プロパティ**:

* `autoArchiveInterval?` *number*
* `autoDeleteInterval?` *number*
* `autoStopInterval?` *number*
* `envVars?` *Record&lt;string, string&gt;*
* `ephemeral?` *boolean*
* `labels?` *Record&lt;string, string&gt;*
* `language?` *string*
* `networkAllowList?` *string*
* `networkBlockAll?` *boolean*
* `public?` *boolean*
* `snapshot?` *string* - サンドボックスに使用するスナップショット名。
* `user?` *string*
* `volumes?` *VolumeMount[]*

## DaytonaConfig \{#daytonaconfig\}

Daytona クライアントを初期化するための設定オプション。

**プロパティ**:

* `apiKey?` *string* - Daytona API で認証するための APIキー（APIキー (DAYTONA_API_KEY)）
* `apiUrl?` *string* - Daytona API の URL。ここで設定されておらず、かつ環境変数 DAYTONA_API_URL にも設定されていない場合は &#39;https://app.daytona.io/api&#39; がデフォルトになります。
* `jwtToken?` *string* - Daytona API で認証するための JWT トークン。未設定の場合は
  環境変数 `DAYTONA_JWT_TOKEN` を指定するか、代わりに APIキー を指定する必要があります。
* `organizationId?` *string* - JWT ベースの認証で使用する組織 ID。JWT トークンが指定されている場合に必須で、ここまたは環境変数 `DAYTONA_ORGANIZATION_ID` のいずれかで設定する必要があります。
* ~~`serverUrl?`~~ *string* - ***非推奨*** - 代わりに `apiUrl` を使用してください。このプロパティは将来のバージョンで削除されます。
* `target?` *string* - サンドボックスのターゲット（リージョン）

**例:**

```ts
const config: DaytonaConfig = {
    apiKey: "your-api-key",
    apiUrl: "https://your-api.com",
    target: "us"
};
const daytona = new Daytona(config);
```

## Resources \{#resources\}

サンドボックスのリソース割り当て。

**プロパティ**:

* `cpu?` *number* - サンドボックスのCPU割り当て（コア）
* `disk?` *number* - サンドボックスのディスク割り当て（GiB）
* `gpu?` *number* - サンドボックスのGPU割り当て（ユニット）
* `memory?` *number* - サンドボックスのメモリ割り当て（GiB）

**例:**

```ts
const resources: SandboxResources = {
    cpu: 2,
    memory: 4,  // 4GiB RAM
    disk: 20    // 20GiB disk
};
```

## SandboxFilter \{#sandboxfilter\}

サンドボックス用のフィルター。

**プロパティ**:

* `id?` *string* - 取得するサンドボックスのID
* `labels?` *Record&lt;string, string&gt;* - サンドボックスを絞り込むためのラベル

## VolumeMount \{#volumemount\}

サンドボックスのボリュームマウントを表します。

**プロパティ**:

* `mountPath` *string* - サンドボックス上でボリュームをマウントするパス

* `volumeId` *string* - マウントするボリュームのID

**継承:**

* `SandboxVolume`