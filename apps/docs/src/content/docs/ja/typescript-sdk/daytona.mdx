---
title: "Daytona"
hideTitleOnPage: true
---

## Daytona \{#daytona\}

Daytona API とやり取りするためのメインクラス。
Daytona のサンドボックスを作成・管理・操作するためのメソッドを提供します。
明示的な設定または環境変数を用いて初期化できます。

**プロパティ**:

* `snapshot` *SnapshotService* - Daytona のスナップショットを管理するサービス
* `volume` *VolumeService* - Daytona のボリュームを管理するサービス

**例:**

```ts
// 環境変数を使用
// DAYTONA_API_KEY、DAYTONA_API_URL、DAYTONA_TARGETを使用
const daytona = new Daytona();
const sandbox = await daytona.create();
```

```ts
// 明示的な設定を使用
const config: DaytonaConfig = {
    apiKey: "your-api-key",
    apiUrl: "https://your-api.com",
    target: "us"
};
const daytona = new Daytona(config);
```

```ts
// 完了時にDaytonaを破棄し、トレースをフラッシュします
await using daytona = new Daytona({
  otelEnabled: true,
});
@class
```

### 実装 \{#implements\}

* `AsyncDisposable`

### コンストラクタ \{#constructors\}

#### new Daytona() \{#new-daytona\}

```ts
new Daytona(config?: DaytonaConfig): Daytona
```

新しい Daytona クライアント インスタンスを作成します。

**パラメータ**:

* `config?` *DaytonaConfig* - 設定オプション

**戻り値**:

* `Daytona`

**例外**:

* `DaytonaError` - API キーが指定されていない場合

### メソッド \{#methods\}

#### [asyncDispose]() \{#asyncdispose\}

```ts
asyncDispose: Promise<void>
```

**戻り値**:

* `Promise<void>`

##### 実装 \{#implementation-of\}

```ts
AsyncDisposable.[asyncDispose]
```

***

#### create() \{#create\}

##### 呼び出しシグネチャ \{#call-signature\}

```ts
create(params?: CreateSandboxFromSnapshotParams, options?: {
  timeout: number;
}): Promise<Sandbox>
```

指定またはデフォルトのスナップショットからサンドボックスを作成します。言語、イメージ、環境変数、ボリュームなど、さまざまなパラメータを指定できます。

**パラメータ**:

* `params?` *CreateSandboxFromSnapshotParams* - スナップショットからサンドボックスを作成するためのパラメータ
* `options?` *Options for the create operation*
* `timeout?` *number* - タイムアウト（秒）。0 はタイムアウトなし、デフォルトは 60

**戻り値**:

* `Promise<Sandbox>` - 作成されたサンドボックスのインスタンス

**例:**

```ts
const sandbox = await daytona.create();
```

```ts
// カスタムサンドボックスを作成
const params: CreateSandboxFromSnapshotParams = {
    language: 'typescript',
    snapshot: 'my-snapshot-id',
    envVars: {
        NODE_ENV: 'development',
        DEBUG: 'true'
    },
    autoStopInterval: 60,
    autoArchiveInterval: 60,
    autoDeleteInterval: 120
};
const sandbox = await daytona.create(params, { timeout: 100 });
```

##### 呼び出しシグネチャ \{#call-signature\}

```ts
create(params?: CreateSandboxFromImageParams, options?: {
  onSnapshotCreateLogs: (chunk: string) => void;
  timeout: number;
}): Promise<Sandbox>
```

指定したレジストリで利用可能なイメージ、または宣言的な Daytona Image からサンドボックスを作成します。リソース、言語、イメージ、環境変数、ボリュームなど、さまざまなパラメータを指定できます。Daytona は提供されたイメージからスナップショットを作成し、それを用いてサンドボックスを作成します。

**パラメータ**:

* `params?` *CreateSandboxFromImageParams* - イメージからサンドボックスを作成するためのパラメータ
* `options?` *作成操作のオプション*
* `onSnapshotCreateLogs?` *(chunk: string) =&gt; void* - スナップショット作成ログを処理するコールバック関数
* `timeout?` *number* - タイムアウト（秒）（0 は無制限、既定は 60）

**戻り値**:

* `Promise<Sandbox>` - 作成されたサンドボックス インスタンス

**例:**

```ts
const sandbox = await daytona.create({ image: 'debian:12.9' }, { timeout: 90, onSnapshotCreateLogs: console.log });
```

```ts
// カスタムサンドボックスを作成
const image = Image.base('alpine:3.18').pipInstall('numpy');
const params: CreateSandboxFromImageParams = {
    language: 'typescript',
    image,
    envVars: {
        NODE_ENV: 'development',
        DEBUG: 'true'
    },
    resources: {
        cpu: 2,
        memory: 4 // 4GB RAM
    },
    autoStopInterval: 60,
    autoArchiveInterval: 60,
    autoDeleteInterval: 120
};
const sandbox = await daytona.create(params, { timeout: 100, onSnapshotCreateLogs: console.log });
```

***

#### delete() \{#delete\}

```ts
delete(sandbox: Sandbox, timeout: number): Promise<void>
```

サンドボックスを削除します。

**パラメータ**:

* `sandbox` *Sandbox* - 削除対象のサンドボックス
* `timeout` *number = 60* - タイムアウト（秒）。0は無制限、既定値は60

**戻り値**:

* `Promise<void>`

**例:**

```ts
const sandbox = await daytona.get('my-sandbox-id');
await daytona.delete(sandbox);
```

***

#### findOne() \{#findone\}

```ts
findOne(filter: SandboxFilter): Promise<Sandbox>
```

ID、名前、またはラベルでサンドボックスを特定します。

**パラメータ**:

* `filter` *SandboxFilter* - サンドボックスのフィルター

**戻り値**:

* `Promise<Sandbox>` - ID、名前、またはラベルに一致する最初のサンドボックス。

**例:**

```ts
const sandbox = await daytona.findOne({ labels: { 'my-label': 'my-value' } });
console.log(`サンドボックスID: ${sandbox.id}, 状態: ${sandbox.state}`);
```

***

#### get() \{#get\}

```ts
get(sandboxIdOrName: string): Promise<Sandbox>
```

ID または名前を指定してサンドボックスを取得します。

**パラメータ**:

* `sandboxIdOrName` *string* - 取得対象のサンドボックスのIDまたは名前

**戻り値**:

* `Promise<Sandbox>` - 取得したサンドボックス

**例:**

```ts
const sandbox = await daytona.get('my-sandbox-id-or-name');
console.log(`サンドボックスの状態: ${sandbox.state}`);
```

***

#### list() \{#list\}

```ts
list(
   labels?: Record<string, string>, 
   page?: number, 
limit?: number): Promise<PaginatedSandboxes>
```

ラベルでフィルタリングされたサンドボックスのページ分割リストを返します。

**パラメータ**:

* `labels?` *Record&lt;string, string&gt;* - サンドボックスをフィルタリングするラベル
* `page?` *number* - ページ番号（1から開始）
* `limit?` *number* - 1ページあたりの最大件数

**戻り値**:

* `Promise<PaginatedSandboxes>` - ラベルに一致するサンドボックスのページ分割リスト。

**例:**

```ts
const result = await daytona.list({ 'my-label': 'my-value' }, 2, 10);
for (const sandbox of result.items) {
    console.log(`${sandbox.id}: ${sandbox.state}`);
}
```

***

#### start() \{#start\}

```ts
start(sandbox: Sandbox, timeout?: number): Promise<void>
```

サンドボックスを起動し、準備完了まで待機します。

**パラメータ**:

* `sandbox` *Sandbox* - 起動するサンドボックス
* `timeout?` *number* - 省略可能なタイムアウト（秒）。0 はタイムアウトなしを意味します

**戻り値**:

* `Promise<void>`

**例:**

```ts
const sandbox = await daytona.get('my-sandbox-id');
// サンドボックスの開始を最大60秒間待機
await daytona.start(sandbox, 60);
```

***

#### stop() \{#stop\}

```ts
stop(sandbox: Sandbox): Promise<void>
```

サンドボックスを停止します。

**パラメータ**:

* `sandbox` *Sandbox* - 停止対象のサンドボックス

**戻り値**:

* `Promise<void>`

**例:**

```ts
const sandbox = await daytona.get('my-sandbox-id');
await daytona.stop(sandbox);
```

## CodeLanguage \{#codelanguage\}

コード実行でサポートされるプログラミング言語

言語が明示的に指定されていない場合、Python がデフォルトのサンドボックス言語として使用されます。

**Enum メンバー**:

* `JAVASCRIPT` (&quot;javascript&quot;)
* `PYTHON` (&quot;python&quot;)
* `TYPESCRIPT` (&quot;typescript&quot;)

## CreateSandboxBaseParams \{#createsandboxbaseparams\}

新しいサンドボックスを作成するための基本パラメータ。

**プロパティ**:

* `autoArchiveInterval?` *number* - 自動アーカイブまでの間隔（分単位）（0 の場合は最大の間隔が使用される）。デフォルトは 7 日。
* `autoDeleteInterval?` *number* - 自動削除までの間隔（分単位）（負の値は無効、0 は停止時に即時削除を意味する）。デフォルトでは自動削除は無効。
* `autoStopInterval?` *number* - 自動停止までの間隔（分単位）（0 の場合は無効）。デフォルトは 15 分。
* `envVars?` *Record&lt;string, string&gt;* - サンドボックス内で設定する任意の環境変数
* `ephemeral?` *boolean* - サンドボックスを一時的なものとするかどうか。true の場合、autoDeleteInterval は 0 に設定される。
* `labels?` *Record&lt;string, string&gt;* - サンドボックスのラベル
* `language?` *string* - コードを直接実行するためのプログラミング言語。指定がない場合は &quot;python&quot; がデフォルト。
* `name?` *string*
* `networkAllowList?` *string* - サンドボックスで許可する CIDR ネットワークアドレスのカンマ区切りリスト
* `networkBlockAll?` *boolean* - サンドボックスに対するすべてのネットワークアクセスをブロックするかどうか
* `public?` *boolean* - サンドボックスのポートプレビューを公開するかどうか
* `user?` *string* - サンドボックスで使用する任意の OS ユーザー
* `volumes?` *VolumeMount[]* - サンドボックスにマウントする任意のボリューム配列

## CreateSandboxFromImageParams \{#createsandboxfromimageparams\}

新しいサンドボックスを作成するためのパラメータ。

**プロパティ**:

* `autoArchiveInterval?` *number*
* `autoDeleteInterval?` *number*
* `autoStopInterval?` *number*
* `envVars?` *Record&lt;string, string&gt;*
* `ephemeral?` *boolean*
* `image` *string | Image* - サンドボックスに使用するカスタム Docker イメージ。Image オブジェクトが指定された場合は、
  イメージが動的にビルドされます。
* `labels?` *Record&lt;string, string&gt;*
* `language?` *string*
* `name?` *string*
* `networkAllowList?` *string*
* `networkBlockAll?` *boolean*
* `public?` *boolean*
* `resources?` *Resources* - サンドボックスのリソース割り当て。指定しない場合、サンドボックスには
  既定のリソースが割り当てられます。
* `user?` *string*
* `volumes?` *VolumeMount[]*

## CreateSandboxFromSnapshotParams \{#createsandboxfromsnapshotparams\}

スナップショットから新規にサンドボックスを作成するためのパラメータ。

**プロパティ**:

* `autoArchiveInterval?` *number*
* `autoDeleteInterval?` *number*
* `autoStopInterval?` *number*
* `envVars?` *Record&lt;string, string&gt;*
* `ephemeral?` *boolean*
* `labels?` *Record&lt;string, string&gt;*
* `language?` *string*
* `name?` *string*
* `networkAllowList?` *string*
* `networkBlockAll?` *boolean*
* `public?` *boolean*
* `snapshot?` *string* - サンドボックスに使用するスナップショット名。
* `user?` *string*
* `volumes?` *VolumeMount[]*

## DaytonaConfig \{#daytonaconfig\}

Daytona クライアントを初期化するための設定オプション。

**プロパティ**:

* `\_experimental?` *Record&lt;string, any&gt;* - 実験的機能用の設定
* `apiKey?` *string* - Daytona API への認証に使用する API キー
* `apiUrl?` *string* - Daytona API の URL。ここで未設定で、環境変数 DAYTONA&#95;API&#95;URL にも設定がない場合、デフォルトで &#39;https://app.daytona.io/api&#39; が使用されます。
* `jwtToken?` *string* - Daytona API への認証に使用する JWT トークン。未設定の場合は、
  環境変数 `DAYTONA_JWT_TOKEN` で指定するか、代わりに API キーを指定する必要があります。
* `organizationId?` *string* - JWT ベース認証で使用する組織 ID。JWT トークンが提供される場合は必須で、ここで設定するか、環境変数 `DAYTONA_ORGANIZATION_ID` に設定する必要があります。
* ~~`serverUrl?`~~ *string* - ***非推奨*** - 代わりに `apiUrl` を使用してください。このプロパティは将来のバージョンで削除されます。
* `target?` *string* - サンドボックスのターゲットロケーション

**例:**

```ts
const config: DaytonaConfig = {
    apiKey: "your-api-key",
    apiUrl: "https://your-api.com",
    target: "us"
};
const daytona = new Daytona(config);
```

## リソース \{#resources\}

サンドボックスのリソース割り当て。

**プロパティ**:

* `cpu?` *number* - サンドボックスの CPU 割り当て（コア数）
* `disk?` *number* - サンドボックスのディスク容量の割り当て（GiB）
* `gpu?` *number* - サンドボックスの GPU 割り当て（ユニット）
* `memory?` *number* - サンドボックスのメモリ割り当て（GiB）

**例:**

```ts
const resources: SandboxResources = {
    cpu: 2,
    memory: 4,  // 4GiB RAM
    disk: 20    // 20GiB ディスク
};
```

## SandboxFilter \{#sandboxfilter\}

サンドボックスを絞り込むためのフィルター。

**プロパティ**:

* `idOrName?` *string* - 取得するサンドボックスの ID または名前
* `labels?` *Record&lt;string, string&gt;* - サンドボックスをフィルターするためのラベル

## VolumeMount \{#volumemount\}

サンドボックスに対するボリュームマウントを表します。

**プロパティ**:

* `mountPath` *string* - ボリュームをマウントするサンドボックス上のパス

* `subpath?` *string* - マウント対象とするボリューム内の任意のサブパス。指定された場合は、この S3 プレフィックスのみがアクセス可能になります。省略された場合は、ボリューム全体がマウントされます。
  * *継承元*: `SandboxVolume.subpath`

* `volumeId` *string* - マウントするボリュームの ID

**継承:**

* `SandboxVolume`