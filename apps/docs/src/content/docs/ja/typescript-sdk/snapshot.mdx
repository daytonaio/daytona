---
title: "スナップショット"
hideTitleOnPage: true
---

## SnapshotService \{#snapshotservice\}

Daytona のスナップショットを管理するサービス。スナップショットの一覧表示、取得、作成、削除に使用できます。

### コンストラクタ \{#constructors\}

#### new SnapshotService() \{#new-snapshotservice\}

```ts
new SnapshotService(
   clientConfig: Configuration, 
   snapshotsApi: SnapshotsApi, 
   objectStorageApi: ObjectStorageApi): SnapshotService
```

**パラメータ**:

* `clientConfig` *Configuration*
* `snapshotsApi` *SnapshotsApi*
* `objectStorageApi` *ObjectStorageApi*

**戻り値**:

* `SnapshotService`

### メソッド \{#methods\}

#### activate() \{#activate\}

```ts
activate(snapshot: スナップショット): Promise<スナップショット>
```

スナップショットを有効化します。

**パラメータ**:

* `snapshot` *スナップショット* - 有効化するスナップショット

**戻り値**:

* `Promise<Snapshot>` - 有効化されたスナップショットのインスタンス

***

#### create() \{#create\}

```ts
create(params: CreateSnapshotParams, options: {
  onLogs: (chunk: string) => void;
  timeout: number;
}): Promise<Snapshot>
```

指定された Image 定義から新しいスナップショットを作成して登録します。

**Parameters**:

* `params` *CreateSnapshotParams* - スナップショット作成用のパラメータ。
* `options` *作成操作のオプション。*
* `onLogs?` *(chunk: string) =&gt; void* - スナップショット作成時のログを処理するコールバック関数。
* `timeout?` *number* - 既定値はタイムアウトなし。秒単位のタイムアウト（0 は無制限）。

**Returns**:

* `Promise<Snapshot>`

**Example:**

```ts
const image = Image.debianSlim('3.12').pipInstall('numpy');
await daytona.snapshot.create({ name: 'my-snapshot', image: image }, { onLogs: console.log });
```

***

#### delete() \{#delete\}

```ts
delete(snapshot: Snapshot): Promise<void>
```

スナップショットを削除します。

**パラメーター**:

* `snapshot` *Snapshot* - 削除するスナップショット

**戻り値**:

* `Promise<void>`

**スロー**:

スナップショットが存在しない、または削除できない場合に送出されます

**例:**

```ts
const daytona = new Daytona();
const snapshot = await daytona.snapshot.get("snapshot-name");
await daytona.snapshot.delete(snapshot);
console.log("スナップショットが正常に削除されました");
```

***

#### get() \{#get\}

```ts
get(name: string): Promise<Snapshot>
```

名前でスナップショットを取得します。

**パラメーター**:

* `name` *string* - 取得するスナップショットの名前

**返り値**:

* `Promise<Snapshot>` - 要求されたスナップショット

**スロー**:

スナップショットが存在しない、またはアクセスできない場合

**例:**

```ts
const daytona = new Daytona();
const snapshot = await daytona.snapshot.get("snapshot-name");
console.log(`スナップショット ${snapshot.name} の状態は ${snapshot.state} です`);
```

***

#### list() \{#list\}

```ts
list(page?: number, limit?: number): Promise<PaginatedSnapshots>
```

スナップショットのページ分割一覧を取得します。

**パラメータ**:

* `page?` *number* - ページ番号（1から）
* `limit?` *number* - 1ページあたりの最大件数

**返り値**:

* `Promise<PaginatedSnapshots>` - スナップショットのページ分割一覧

**例:**

```ts
const daytona = new Daytona();
const result = await daytona.snapshot.list(2, 10);
console.log(`${result.total}個のスナップショットが見つかりました`);
result.items.forEach(snapshot => console.log(`${snapshot.name} (${snapshot.imageName})`));
```

***

## PaginatedSnapshots \{#paginatedsnapshots\}

Daytona のスナップショットのページネーション対応リストを表します。

**プロパティ**:

* `items` *Snapshot[]* - 現在のページに含まれるスナップショットの一覧。
* `page` *number* - 現在のページ番号。
  * *継承元*: `Omit.page`
* `total` *number* - 全ページ合計のスナップショット数。
  * *継承元*: `Omit.total`
* `totalPages` *number* - 利用可能なページの総数。

  * *継承元*: `Omit.totalPages`

**継承:**

* `Omit`&lt;`PaginatedSnapshotsDto`, `"items"`&gt;

## CreateSnapshotParams \{#createsnapshotparams\}

```ts
type CreateSnapshotParams = {
  entrypoint: string[];
  image: string | Image;
  name: string;
  resources: Resources;
};
```

新規スナップショット作成時のパラメータ。

**型定義**:

* `entrypoint?` *string[]*
* `image` *string | Image*
* `name` *string*
* `resources?` *Resources*

## スナップショット \{#snapshot\}

```ts
type Snapshot = SnapshotDto & {
  __brand: "Snapshot";
};
```

事前に構成されたサンドボックスである Daytona のスナップショットを表します。

**型宣言**:

* `\_\_brand` *&quot;Snapshot&quot;*
