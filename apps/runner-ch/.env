# Daytona Runner CH Configuration
# Cloud Hypervisor Runner Environment Variables
# Copy this file to .env and update the values

ENVIRONMENT=development

# Logging
LOG_LEVEL=debug

# Cloud Hypervisor Host (SSH remote mode)
# CH_SSH_HOST=localhost
# CH_SSH_KEY_PATH=/root/.ssh/id_rsa

# Daytona API Configuration
SERVER_URL=http://localhost:3000/api
API_PORT=3005
API_TOKEN=secret_api_token_3005

SSH_GATEWAY_ENABLE=true
SSH_PUBLIC_KEY="c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFCZ1FDUVV0ZDFsNUFtaGhjQzJaNWxnSGptcEFUdXJtSjR2N21zVzVDWXFhNzZSeXhlQk5jNWkyMHVuclZ3ck5ZbWdIRS9sWUNxYzNmMDR4S2tqR0lpdTFwS0pHTS9GRzNhWjhDUzlSeHRsbmtOUVVXaHZIK3hIcXlFL2NxMXB6cDY5Z3VhNEs0c3JsbVRxVTIvYjViOGRHZWc2bnNXbk9RUGgvM2ZHaCt0bjhINjVXUW93RlZ3UXc1aUM5NGZmMVdoTEZKVjd2Tm5iTkF6bmE4b3RCTHVzaHBZVEphQWJsVWl0WGphd1luZUI5NDFEb3hmR3RNR3UzNjJzOXo4STF6SXBRUEVhWlo1N0JmUnlIOVYvYkJ6MUw4Vm9MQ3pIdFJQVk0zVkdHMWM3bmdZeGgxVjNiVHFnbzFzcWgvaDV1eTh3MjZVcGVYeXdYeERPZFNMOUhxU2N5ZTFheEw1NmNFWm11L2hXV3lGQ3RUS1N2b2FHd2pmVk1mSXp0bGQ0b290VFA3UDBtU2k4UHNMTGZTVzd0bjR6YUtxaWQ3VGN6MUpjZS9CWTdFd2NKS2p3a29MVVA3dlFCQ0NPSUhpTlVORlJaU1dGaWVpaWlrZWgzdmh5TmY2R25kQVMvcFhMR1dmWHVJVEErUVljOVNtdDFlWCtsbEZZVkVSOHFwU3RvTXBnOHM9IGRheXRvbmFAMWRhYmY5YmI5ZTdjCg=="

SSH_HOST_KEY_PATH=/workspaces/daytona/tmp/runner/id_rsa

# Cloud Hypervisor Paths (defaults)
CH_SOCKETS_PATH=/var/run/cloud-hypervisor
CH_SANDBOXES_PATH=/var/lib/cloud-hypervisor/sandboxes
CH_SNAPSHOTS_PATH=/var/lib/cloud-hypervisor/snapshots
CH_KERNEL_PATH=/var/lib/cloud-hypervisor/kernels/vmlinuz-6.8.0-90-generic
CH_INITRAMFS_PATH=/var/lib/cloud-hypervisor/kernels/initrd.img-6.8.0-90-generic
CH_FIRMWARE_PATH=/var/lib/cloud-hypervisor/firmware/hypervisor-fw
CH_BASE_IMAGE_PATH=/var/lib/cloud-hypervisor/snapshots/ubuntu-base.1.qcow2

# Network
CH_BRIDGE_NAME=br0
CH_TAP_CREATE_SCRIPT=/usr/local/bin/ch-create-tap
CH_TAP_DELETE_SCRIPT=/usr/local/bin/ch-delete-tap

# Default VM Resources
CH_DEFAULT_CPUS=2
CH_DEFAULT_MEMORY_MB=2048
CH_DEFAULT_DISK_GB=20

# Optional: TLS Configuration
# ENABLE_TLS=false
# TLS_CERT_FILE=/path/to/cert.pem
# TLS_KEY_FILE=/path/to/key.pem

# Optional: GPU Passthrough
# GPU_PASSTHROUGH_ENABLED=false

# Optional: VM Pool (for fast fork)
# VMPOOL_ENABLED=false
# VMPOOL_SIZE=5

MEMORY_BALLOONING_ENABLED=true
MEMORY_BALLOONING_INTERVAL_SEC=30
MEMORY_BALLOONING_MIN_VM_GB=1
MEMORY_BALLOONING_BUFFER_GB=2
MEMORY_BALLOONING_BUFFER_RATIO=0.25
# Remote CH host configuration (from .env.local)
CH_SSH_HOST=root@206.223.225.17
CH_SSH_KEY_PATH=/workspaces/daytona/.tmp/ssh/id_rsa
