# Default values for daytona-dev

namespace: daytona-dev

# Dex - Identity Provider
dex:
  enabled: true
  image: dexidp/dex:v2.42.0
  replicas: 1
  service:
    port: 5556

# PostgreSQL Database
db:
  enabled: true
  image: postgres:18
  replicas: 1
  service:
    port: 5432
  env:
    POSTGRES_PASSWORD: pass
    POSTGRES_USER: user
    POSTGRES_DB: application_ctx

# PgAdmin
pgadmin:
  enabled: true
  image: dpage/pgadmin4:9.2.0
  replicas: 1
  service:
    port: 80
  env:
    PGADMIN_DEFAULT_EMAIL: dev@daytona.io
    PGADMIN_DEFAULT_PASSWORD: pgadmin
    PGADMIN_CONFIG_SERVER_MODE: "False"
    PGADMIN_CONFIG_MASTER_PASSWORD_REQUIRED: "False"

# Redis
redis:
  enabled: true
  image: redis:latest
  replicas: 1
  service:
    port: 6379

# Docker Registry UI
registryUi:
  enabled: true
  image: joxit/docker-registry-ui:main
  replicas: 1
  service:
    port: 80
  env:
    SINGLE_REGISTRY: "true"
    REGISTRY_TITLE: "Docker Registry UI"
    DELETE_IMAGES: "true"
    SHOW_CONTENT_DIGEST: "true"
    NGINX_PROXY_PASS_URL: "http://registry:5000"
    SHOW_CATALOG_NB_TAGS: "true"
    CATALOG_MIN_BRANCHES: "1"
    CATALOG_MAX_BRANCHES: "1"
    TAGLIST_PAGE_SIZE: "100"
    REGISTRY_SECURED: "false"
    CATALOG_ELEMENTS_LIMIT: "1000"

# Docker Registry
registry:
  enabled: true
  image: registry:2.8.2
  replicas: 1
  service:
    port: 5000
  persistence:
    enabled: true
    size: 10Gi
  env:
    REGISTRY_HTTP_HEADERS_Access-Control-Allow-Origin: "[http://registry-ui.example.com]"
    REGISTRY_HTTP_HEADERS_Access-Control-Allow-Methods: "[HEAD,GET,OPTIONS,DELETE]"
    REGISTRY_HTTP_HEADERS_Access-Control-Allow-Credentials: "[true]"
    REGISTRY_HTTP_HEADERS_Access-Control-Allow-Headers: "[Authorization,Accept,Cache-Control]"
    REGISTRY_HTTP_HEADERS_Access-Control-Expose-Headers: "[Docker-Content-Digest]"
    REGISTRY_STORAGE_DELETE_ENABLED: "true"

# Maildev
maildev:
  enabled: true
  image: maildev/maildev
  replicas: 1
  service:
    smtpPort: 1025
    webPort: 1080

# Minio
minio:
  enabled: true
  image: minio/minio:latest
  replicas: 1
  service:
    apiPort: 9000
    consolePort: 9001
  persistence:
    enabled: true
    size: 10Gi
  env:
    MINIO_ROOT_USER: minioadmin
    MINIO_ROOT_PASSWORD: minioadmin
    MINIO_IDENTITY_STS_EXPIRY: "24h"

# Jaeger
jaeger:
  enabled: true
  image: jaegertracing/all-in-one:1.74.0
  replicas: 1
  service:
    uiPort: 16686
    collectorGrpcPort: 4317
    collectorHttpPort: 14268

# OpenTelemetry Collector
otelCollector:
  enabled: true
  image: otel/opentelemetry-collector-contrib:0.138.0
  replicas: 1
  service:
    grpcPort: 4317
    httpPort: 4318
    prometheusPort: 9090

# ===========================================
# Daytona Application Services
# ===========================================

# Container Registry for app images (adjust based on your setup)
imageRegistry: ""  # e.g., "gcr.io/your-project" or leave empty for local images

# API Service (Node.js/NestJS - serves API and Dashboard)
api:
  enabled: true
  image: daytona-api:latest
  imagePullPolicy: IfNotPresent
  replicas: 1
  service:
    port: 3000
  env:
    PORT: "3000"
    NODE_ENV: "production"
    # Database
    DB_HOST: "db"
    DB_PORT: "5432"
    DB_USERNAME: "user"
    DB_PASSWORD: "pass"
    DB_DATABASE: "application_ctx"
    # Redis
    REDIS_HOST: "redis"
    REDIS_PORT: "6379"
    # OIDC
    OIDC_CLIENT_ID: "daytona"
    OIDC_ISSUER_BASE_URL: "http://dex:5556/dex"
    PUBLIC_OIDC_DOMAIN: "http://localhost:5556/dex"
    OIDC_AUDIENCE: "daytona"
    # Dashboard
    DASHBOARD_URL: "http://localhost:3000/dashboard"
    DASHBOARD_BASE_API_URL: "http://localhost:3000"
    # Registry
    TRANSIENT_REGISTRY_URL: "http://registry:5000"
    TRANSIENT_REGISTRY_ADMIN: "admin"
    TRANSIENT_REGISTRY_PASSWORD: "password"
    TRANSIENT_REGISTRY_PROJECT_ID: "daytona"
    INTERNAL_REGISTRY_URL: "http://registry:5000"
    INTERNAL_REGISTRY_ADMIN: "admin"
    INTERNAL_REGISTRY_PASSWORD: "password"
    INTERNAL_REGISTRY_PROJECT_ID: "daytona"
    # SMTP
    SMTP_HOST: "maildev"
    SMTP_PORT: "1025"
    SMTP_USER: ""
    SMTP_PASSWORD: ""
    SMTP_SECURE: ""
    SMTP_EMAIL_FROM: "Daytona Team <no-reply@daytona.io>"
    # S3/Minio
    S3_ENDPOINT: "http://minio:9000"
    S3_STS_ENDPOINT: "http://minio:9000/minio/v1/assume-role"
    S3_REGION: "us-east-1"
    S3_ACCESS_KEY: "minioadmin"
    S3_SECRET_KEY: "minioadmin"
    S3_DEFAULT_BUCKET: "daytona"
    S3_ACCOUNT_ID: "/"
    S3_ROLE_NAME: "/"
    # Proxy
    PROXY_DOMAIN: "proxy:4000"
    PROXY_PROTOCOL: "http"
    PROXY_API_KEY: "super_secret_key"
    PROXY_TEMPLATE_URL: "http://{{PORT}}-{{sandboxId}}.proxy:4000"
    # Default Runner (placeholder)
    DEFAULT_RUNNER_DOMAIN: "runner:3003"
    DEFAULT_RUNNER_API_URL: "http://runner:3003"
    DEFAULT_RUNNER_PROXY_URL: "http://runner:3003"
    DEFAULT_RUNNER_API_KEY: "secret_api_token"
    DEFAULT_RUNNER_CPU: "4"
    DEFAULT_RUNNER_MEMORY: "8"
    DEFAULT_RUNNER_DISK: "50"
    DEFAULT_RUNNER_GPU: "0"
    DEFAULT_RUNNER_GPU_TYPE: "none"
    DEFAULT_RUNNER_CAPACITY: "100"
    DEFAULT_RUNNER_CLASS: "small"
    # Region
    DEFAULT_REGION_ID: "us"
    DEFAULT_REGION_NAME: "us"
    DEFAULT_REGION_ENFORCE_QUOTAS: "false"
    # SSH Gateway
    SSH_GATEWAY_API_KEY: "ssh_secret_api_token"
    SSH_GATEWAY_COMMAND: "ssh -p 2222 {{TOKEN}}@ssh-gateway"
    SSH_GATEWAY_PUBLIC_KEY: "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFCZ1FEZUtocFdOYVhVNkpSMnJXekc1NlZJeksrcmsrdForcCtVUmwyeWF5cWRnZGg2bnVOL1NtVnJsYmV4MGlrRVZZemdRWUIwWno5M2dqOVhxSkd4WjJiMHVoSDFzNkp2bnhKZVdIK05rbjBNMzRiRjZkeVloZ3o4M0JaTitWcElJdnVDT1pxYWE4VnlRWjhPdjVLMU00enlmQnFCMld3ejcwZEVWUnFaMnVZckd5U0RqUUIrU3hRQ3phY0djb2JRQTFUd2QxdEJvSk5BaVpPWXFSU3d6TmNoTk5hZHlxSHRGdkZRQ0hhNjZWaVBmQ0FVUGt2cEN6ZGh3TmJGdVhGVWkxbnZOWkx4M056RU41M05LWUhZcWU3Y3dXZkI4QjBoRDhDd3hmSDd6T0o1b1RCMnBMVVlsUWpZRDNsN3k4SkFTbDZpYkpuR1A1SWczVXpZWlRIdUdkNzVXWktnNTRJTVROQlFPMWpJdE9HL0orUm1XbzB0YTdpRkF6ZExyL1BmbDdXTVMwbEZhSm9scTdUVmJLUG1JODFTOU04VEgrbXhLbGZ5b2NqZzhwSUdlQUllcEo3dXl1Vk1xT2wxeVVuSFNycDRlVEVlR0k3NlpCOFRoUzhkYnBLUTIvb2RYMHkwc3FSZDI0Y2lGdnM0dnZVaW80NFdYNlNWRG54dXpWRHc1Rzg9IGRheXRvbmFAMDQwNjZiZDIwY2Vi"
    # Environment
    ENVIRONMENT: "dev"
    SKIP_USER_EMAIL_VERIFICATION: "true"
    RUN_MIGRATIONS: "true"
    MAINTENANCE_MODE: "false"
    DEFAULT_SNAPSHOT: "daytonaio/sandbox:0.5.0"
    MAX_AUTO_ARCHIVE_INTERVAL: "43200"

# Proxy Service (Go)
proxy:
  enabled: true
  image: daytona-proxy:latest
  imagePullPolicy: IfNotPresent
  replicas: 1
  service:
    port: 4000
  env:
    DAYTONA_API_URL: "http://api:3000/api"
    PROXY_PORT: "4000"
    PROXY_DOMAIN: "proxy:4000"
    PROXY_API_KEY: "super_secret_key"
    PROXY_PROTOCOL: "http"
    OIDC_CLIENT_ID: "daytona"
    OIDC_CLIENT_SECRET: ""
    OIDC_DOMAIN: "http://dex:5556/dex"
    OIDC_PUBLIC_DOMAIN: "http://localhost:5556/dex"
    OIDC_AUDIENCE: "daytona"
    REDIS_HOST: "redis"
    REDIS_PORT: "6379"
    TOOLBOX_ONLY_MODE: "false"
    PREVIEW_WARNING_ENABLED: "false"

# SSH Gateway Service (Go)
sshGateway:
  enabled: true
  image: daytona-ssh-gateway:latest
  imagePullPolicy: IfNotPresent
  replicas: 1
  service:
    port: 2222
  env:
    API_URL: "http://api:3000/api"
    API_KEY: "ssh_secret_api_token"
    SSH_GATEWAY_PORT: "2222"
    SSH_PRIVATE_KEY: "LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUJsd0FBQUFkemMyZ3RjbgpOaEFBQUFBd0VBQVFBQUFZRUEzaW9hVmpXbDFPaVVkcTFzeHVlbFNNeXZxNVByV2ZxZmxFWmRzbXNxbllIWWVwN2pmMHBsCmE1VzNzZElwQkZXTTRFR0FkR2MvZDRJL1Y2aVJzV2RtOUxvUjliT2liNThTWGxoL2paSjlETitHeGVuY21JWU0vTndXVGYKbGFTQ0w3Z2ptYW1tdkZja0dmRHIrU3RUT004bndhZ2Rsc00rOUhSRlVhbWRybUt4c2tnNDBBZmtzVUFzMm5CbktHMEFOVQo4SGRiUWFDVFFJbVRtS2tVc016WElUVFduY3FoN1JieFVBaDJ1dWxZajN3Z0ZENUw2UXMzWWNEV3hibHhWSXRaN3pXUzhkCnpjeERlZHpTbUIyS251M01GbndmQWRJUS9Bc01YeCs4emllYUV3ZHFTMUdKVUkyQTk1ZTh2Q1FFcGVvbXlaeGorU0lOMU0KMkdVeDdobmUrVm1Tb09lQ0RFelFVRHRZeUxUaHZ5ZmtabHFOTFd1NGhRTTNTNi96MzVlMWpFdEpSV2lhSmF1MDFXeWo1aQpQTlV2VFBFeC9wc1NwWDhxSEk0UEtTQm5nQ0hxU2U3c3JsVEtqcGRjbEp4MHE2ZUhreEhoaU8rbVFmRTRVdkhXNlNrTnY2CkhWOU10TEtrWGR1SEloYjdPTDcxSXFPT0ZsK2tsUTU4YnMxUThPUnZBQUFGa0VOTllCMURUV0FkQUFBQUIzTnphQzF5YzIKRUFBQUdCQU40cUdsWTFwZFRvbEhhdGJNYm5wVWpNcjZ1VDYxbjZuNVJHWGJKcktwMkIySHFlNDM5S1pXdVZ0N0hTS1FSVgpqT0JCZ0hSblAzZUNQMWVva2JGblp2UzZFZld6b20rZkVsNVlmNDJTZlF6ZmhzWHAzSmlHRFB6Y0ZrMzVXa2dpKzRJNW1wCnByeFhKQm53Ni9rclV6alBKOEdvSFpiRFB2UjBSVkdwbmE1aXNiSklPTkFINUxGQUxOcHdaeWh0QURWUEIzVzBHZ2swQ0oKazVpcEZMRE0xeUUwMXAzS29lMFc4VkFJZHJycFdJOThJQlErUytrTE4ySEExc1c1Y1ZTTFdlODFrdkhjM01RM25jMHBnZAppcDd0ekJaOEh3SFNFUHdMREY4ZnZNNG5taE1IYWt0UmlWQ05nUGVYdkx3a0JLWHFKc21jWS9raURkVE5obE1lNFozdmxaCmtxRG5nZ3hNMEZBN1dNaTA0YjhuNUdaYWpTMXJ1SVVETjB1djg5K1h0WXhMU1VWb21pV3J0TlZzbytZanpWTDB6eE1mNmIKRXFWL0toeU9EeWtnWjRBaDZrbnU3SzVVeW82WFhKU2NkS3VuaDVNUjRZanZwa0h4T0ZMeDF1a3BEYitoMWZUTFN5cEYzYgpoeUlXK3ppKzlTS2pqaFpmcEpVT2ZHN05VUERrYndBQUFBTUJBQUVBQUFHQVFVRjRydTNmSWVTWEJ5ejFrSThtRzNZVCszCi9kVjNhb1BQTldQandBTG5lZlVKVXZHWXFPczhVc1NjMERRMFNsdHBGRzIrb2YyRWludG1YTE5hSzd1UktXaCtjVnhWZWkKRzVnL0R5U0NHcS9sZEdpMjVRNHE3bkx2RWtRMTRvNXo5ZEpadVJZQ3p3YTdZNmVkdmgvQVBORjdMN3pmYlhuUkl4OGtTeQpEakRySlFUVnV6VTJWV0lXU3F0TmdiQlNxVlhuU1FsM3hGQkdYa3RxaWpiVE1kMWFFaGtRT2VBSGdHdFkxbTRvdjcrVmxxClNzZnBvREF0T2tkY1RvT2o2RU50d05yS1dHL2g4QW5XVWptVjlPZ0h2UEFXR2hlTndlYXdvOW5lVVdseDZUcDNrVUdxdzYKVU9HTlYwN2lsOUdWU1JMa3hFUDlSMHZKZStxM3VIUDUzQ2NVNDI0S3hPQ1d6OERJK3BjT0N5R0QrOHZqYllOTlNPR3Z3YwowcjRsa2dDMUE5TWNLelFHcit5S1FIcXhndjlZdWRUYXFLSUhDWU0zL2J4dktwK2FjMXdEV1lCc0ZJSklRSU9mN2JpQ0E2CnYyaFlDMWRUb2V1NnlCbmtXMWVmZWJkZFE0RXl1ZzhTRVQrY3FrV1lYOWJwTi92SmZmV1F0VytEQ3RRdEF5ZEtWeEFBQUEKd0NCZTRtd01oT0dOUzhKeVVCNXVrczhvVTdGNnZGWjBTa3liUmxsK3pGaGVKSy9yNlhGZkxTeEpKaXF0NG1IQXdwTEJxMApqdHBIMlY2TjNVNEhmdHg4M3lXKzZWcmc2Mkp5NnZHazhJQ1I0bHRIOXVVRnlWb2piRFVtZ2pZMmpidkd6a2lOc2IzRi9wCmRvdnBJRHdabVAvOGo3U1dpYTFBQzFBM3RYNDg5eUc1NC9GY2JsZHhBelBJZkFOZzJNd0RERXBMZ3VGOXIwY1hqNzUwWGkKMUxyOUNuMjM0RDJuYmpXRmxOY1o0OHh3R2h0SThEWkFQbGt6YXJLcEVmbHpxOTRBQUFBTUVBNEZEMG1ZZEo2NDhBMDJBYgpxc3pRZGprampEV3dGQ1hRbE5lcEY2R2RTTS84V1NtYmFGb3hYZlFmNWVLSHRMQWNzVnBPSitkRnpZaEViQmcvaklrMmIxCktOY3RnK1lDWHZTTElPbmIrSVYwUFVZK0Z6NGFXU2tucTY4Q1QyR1N3K0krVlRsc3FRTXVBbjBPc2lGUmdXSFhuS000YU8KN2tDWlhUSm9xdFo0SzNJZTJ3RGtneEdkcnhCcVFkWWlkczQxVmJndlZLbXNNYVl6NHVvRk9hQVdiVlREOVN3ODdwa2oyRwo2dUNGSmZzK3g4d0dibGpsS2kwdWdQRndwVU94dk5BQUFBd1FEOWkxZDVKd1h2TUl3MzhqSjNubGNlc2U1RmM2M0x0N2IvClRpTzN1bGpCNXFnM2JHc1Y2Z1FBcEhaeTV6NWtIQ0E3TksyMVhtOUNzODhyU3p3ZTJHcllleVJkNjFKaWFRaWpsa3U2MlQKa05Bb0RjOHhoeS9yd3M5dmxUMFJrUDRNejI3cDREVFFaT0pCQ09CMHJLYVY1cFBxTHNDWm1YTHZ2dVpkQzdIUGJremY5SApHYXFwcWc1UWNESW9zWHowcFZneGVQZnJpV0NlZyt0UC8vOXJDanIwdjJMMGhrOWJydUtNTXdYK3IvU0lab0haNTJOSlJaClJRKzV6VGNtRlJIU3NBQUFBVVpHRjVkRzl1WVVBd05EQTJObUprTWpCalpXSUJBZ01FQlFZSAotLS0tLUVORCBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0="
    SSH_HOST_KEY: "LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUJGd0FBQUFkemMyZ3RjbgpOaEFBQUFBd0VBQVFBQUFRRUF1K0xKeXQvS3Y2VmlhWkI2am5KUFM1N0ZwWjJGajdWNGYvNXFLYTY1U3lwRFpXWVBzT2NpCkhuRE93elpsVU1Sd2VyaWJHcmsxM2JZZGdWM2taeVNzUGdDV2xERzlPbXVwb2kzWjYzeUUyYXlvKy9RQUxJQjdxc0NKcVMKNjZodm45ZTBGMHh4MGFuUVdCR09Fa1hMZ0IrdTRSNThoL0dtZkM3WDU5RERIK21Hb0thSjMxek1ZQWFyMTV0NDN2Q3BiYgpNb1lCbmNtWWtrVDJNeXhxQ3MrdjZNYmN0ZmRBTks0UHhyc2dGV1I0a0s0T3pjYjJrMFZCMzRoSHdMMTBUcEVIZDI3bjhBCmV1RU1PUEVIK3RFOEtwRmFaR3NDNS9aV1FZUitncEM3SG01YVBnWjUzanF3TkNCZFprekpZNTZjUEx5SHZoeXV4K1h0RGEKdlhoSkhTRWszUUFBQTlDOElNL1B2Q0RQendBQUFBZHpjMmd0Y25OaEFBQUJBUUM3NHNuSzM4cS9wV0pwa0hxT2NrOUxucwpXbG5ZV1B0WGgvL21vcHJybExLa05sWmcrdzV5SWVjTTdETm1WUXhIQjZ1SnNhdVRYZHRoMkJYZVJuSkt3K0FKYVVNYjA2CmE2bWlMZG5yZklUWnJLajc5QUFzZ0h1cXdJbXBMcnFHK2YxN1FYVEhIUnFkQllFWTRTUmN1QUg2N2hIbnlIOGFaOEx0Zm4KME1NZjZZYWdwb25mWE14Z0JxdlhtM2plOEtsdHN5aGdHZHlaaVNSUFl6TEdvS3o2L294dHkxOTBBMHJnL0d1eUFWWkhpUQpyZzdOeHZhVFJVSGZpRWZBdlhST2tRZDNidWZ3QjY0UXc0OFFmNjBUd3FrVnBrYXdMbjlsWkJoSDZDa0xzZWJsbytCbm5lCk9yQTBJRjFtVE1sam5wdzh2SWUrSEs3SDVlME5xOWVFa2RJU1RkQUFBQUF3RUFBUUFBQVFBeUJpTG1FZ21nVnY5SnpmN2oKZUVubWYySnVRdTl4b01aeGhhSnNjS25DK29DeE9haEoySEE4SEpyZ1hOWkMxOXArd2pJQnZuZzZES2YwYnJSR1JmeGFFYgp3RnZ1eDc1bmhteHNCenMxYUh3akhIeTJKVWR1ejJQSWNxZFZlU1luTDc0eVNkY3dGSDkxUTA5SlRDM3ZjZ0FVemhJbis4CjN3MkdRQnc1S0FKNlA2TzNYNFJQMkpoLzA2UlpqYWIvbzJManBWUHRKVXhxN0tkekZYSzUyZ25oKzJGL0p2ZHFJcTRDVncKT0VPdUNOS282MzJBYS8rUFl5NDlhaVY0YkVmUDZZWUlxaFpxekR6UjNNNncwb3ZQRGMvcjFveGlSaDA5dTlFTEtFK1FoNQpkeGR0SDIrVmFMTnVWQ2JzL09FZXVYNXRPQm1mS2k3TjYrSkZFckxoMkZkOUFBQUFnRDcwOWdRZ2kvZ1RZYjdWOGsxcmo5Cm5tajU3dmFFaTY4MFY5TkdqbFBjdWtPNHQ5Vk5HVzhjMVZVdjFJaGhKN3RySUtsWG5PTnRQa0hWeUh5SUxocGVUQ3N2bXkKMUhJSFErUUViYlF6cldDYVA3MFE2d1JXQm9XeTJVbzIwRUgreE1nUkdBSk1adE41OW1GN0t5MUVCUkYzMUI4Mmo2Q2JwTgpYeCtoNE15b2ZXQUFBQWdRRDU2eDhwVklBMXNJQjFRWTFsUlZ4RW92Q0x4bXlaeVR2RzlIbThjT2FqeUZoY1dCNWljZXFvCkNrY3ZncXozNDVUaVBVVFd4eW9PNkJTYVlIbEYxUVI3a1BTU1dsUENRRTFxbGgyQXNoZDV3bHlyV1U5elAxNkExSWQxV0MKL0M1QngvUjRhSkpyM1N3S2RaenFkTHhRTGc4RFhIbWdZOXVNVlpVb2hQbVBkZml3QUFBSUVBd0hVN1g3aDV5REtrMUVORQp4RE82UjVXclU2M3hXNjVOdlBsS0ZzcE13Zks2QWZyZUdIbFUrTlhWZmRNNGlra0dDMXQ5Wisrc2ZKcXJlckxaVUdGSlAzClVOUkg1WGNnR0dMeUVDQi9EblJSRzJaMGNtYzFVWlBpMUJ6MnVSRll3aW5rbDNaWHA3TlJrV2ZudUpsRUlXVk9TMUY5NTYKa01DbURPMlNSUUhHbWpjQUFBQVVjM05vTFdkaGRHVjNZWGt0YUc5emRDMXJaWGtCQWdNRUJRWUgKLS0tLS1FTkQgT1BFTlNTSCBQUklWQVRFIEtFWS0tLS0t"

# ===========================================
# Daytona Runner (DaemonSet)
# ===========================================
runner:
  enabled: true
  image: vedranjukic/daytona-runner:v3-containerd-fixed
  imagePullPolicy: Always
  
  # Node selector - runs only on nodes with this label
  nodeSelector:
    daytona-sandbox-c: "true"
  
  # Tolerations for sandbox nodes
  tolerations:
    - key: "sandbox"
      operator: "Equal"
      value: "true"
      effect: "NoSchedule"
  
  # Host aliases - required for hostNetwork pods to resolve k8s service names
  # These are added to both the container's /etc/hosts AND the host node's /etc/hosts
  # (via the docker-installer sidecar) so Docker on the host can resolve them
  hostAliases:
    - ip: "34.57.148.49"  # registry-external LoadBalancer IP
      hostnames:
        - "registry"
        - "registry.daytona-dev.svc.cluster.local"
    - ip: "34.118.226.229"  # minio ClusterIP
      hostnames:
        - "minio"
        - "minio.daytona-dev.svc.cluster.local"
  
  # Registry proxy sidecar (socat) - disabled by default
  registryProxy:
    enabled: false
    image: alpine/socat:latest
    listenPort: 5000
    targetHost: ""
    targetPort: 0
  
  # Docker installer sidecar - installs Docker on the host node
  dockerInstaller:
    enabled: true
    image: alpine:latest
    xfsStorageSize: "50G"  # Size of XFS storage for Docker (used for quota support)
  
  # Service configuration
  service:
    type: LoadBalancer
    apiPort: 8080
    sshGatewayPort: 2220
  
  # Resource limits
  resources:
    requests:
      cpu: "500m"
      memory: "512Mi"
    limits:
      cpu: "2000m"
      memory: "4Gi"
  
  # ConfigMap values
  config:
    apiPort: "8080"
    environment: "production"
    containerRuntime: ""  # Empty = use Docker client with Docker's default runtime (sysbox-runc)
    logFilePath: "/home/daytona/runner/runner.log"
    logLevel: "info"
    sshGatewayEnable: "true"
    sshGatewayPort: "2220"
    resourceLimitsDisabled: "false"
    cacheRetentionDays: "7"
    daemonStartTimeoutSec: "60"
    sandboxStartTimeoutSec: "120"
  
  # Secret values (CHANGE THESE!)
  secrets:
    serverUrl: "http://api:3000/api"  # Will use cluster-internal API
    apiToken: "secret_api_token"
    awsRegion: "us-east-1"
    awsEndpointUrl: "http://minio:9000"
    awsAccessKeyId: "minioadmin"
    awsSecretAccessKey: "minioadmin"
    awsDefaultBucket: "daytona"
    sshPublicKey: "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFCZ1FEZUtocFdOYVhVNkpSMnJXekc1NlZJeksrcmsrdForcCtVUmwyeWF5cWRnZGg2bnVOL1NtVnJsYmV4MGlrRVZZemdRWUIwWno5M2dqOVhxSkd4WjJiMHVoSDFzNkp2bnhKZVdIK05rbjBNMzRiRjZkeVloZ3o4M0JaTitWcElJdnVDT1pxYWE4VnlRWjhPdjVLMU00enlmQnFCMld3ejcwZEVWUnFaMnVZckd5U0RqUUIrU3hRQ3phY0djb2JRQTFUd2QxdEJvSk5BaVpPWXFSU3d6TmNoTk5hZHlxSHRGdkZRQ0hhNjZWaVBmQ0FVUGt2cEN6ZGh3TmJGdVhGVWkxbnZOWkx4M056RU41M05LWUhZcWU3Y3dXZkI4QjBoRDhDd3hmSDd6T0o1b1RCMnBMVVlsUWpZRDNsN3k4SkFTbDZpYkpuR1A1SWczVXpZWlRIdUdkNzVXWktnNTRJTVROQlFPMWpJdE9HL0orUm1XbzB0YTdpRkF6ZExyL1BmbDdXTVMwbEZhSm9scTdUVmJLUG1JODFTOU04VEgrbXhLbGZ5b2NqZzhwSUdlQUllcEo3dXl1Vk1xT2wxeVVuSFNycDRlVEVlR0k3NlpCOFRoUzhkYnBLUTIvb2RYMHkwc3FSZDI0Y2lGdnM0dnZVaW80NFdYNlNWRG54dXpWRHc1Rzg9IGRheXRvbmFAMDQwNjZiZDIwY2Vi"



